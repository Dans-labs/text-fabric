



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Text-Fabric is a Python3 package for Text plus Annotations. It provides a data model, a text file format, and a binary format for (ancient) text plus (linguistic) annotations.">
      
      
      
        <meta name="author" content="Dirk Roorda">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/icon/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.1">
    
    
      
        <title>Tweaks - Text-Fabric</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#file-format-optimizations" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Text-Fabric" class="md-header-nav__button md-logo">
          
            <img src="../../images/tficon-small.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Text-Fabric
              </span>
              <span class="md-header-nav__topic">
                Tweaks
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/dans-labs/text-fabric/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../../images/tficon-small.png" width="48" height="48">
      
    </span>
    Text-Fabric
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/dans-labs/text-fabric/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../News/" title="News" class="md-nav__link">
      News
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Install/" title="Install" class="md-nav__link">
      Install
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Use/" title="Use" class="md-nav__link">
      Use
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Corpora/" title="Corpora" class="md-nav__link">
      Corpora
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Faq/" title="Faq" class="md-nav__link">
      Faq
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/Overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/Stats/" title="Stats (overall)" class="md-nav__link">
      Stats (overall)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsBase/" title="Stats (TF-base)" class="md-nav__link">
      Stats (TF-base)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsSearch/" title="Stats (TF-search)" class="md-nav__link">
      Stats (TF-search)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsApps/" title="Stats (TF-apps)" class="md-nav__link">
      Stats (TF-apps)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsServer/" title="Stats (TF-server)" class="md-nav__link">
      Stats (TF-server)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Model
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Model
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Data-Model/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../File-formats/" title="Format" class="md-nav__link">
      Format
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Tweaks
      </label>
    
    <a href="./" title="Tweaks" class="md-nav__link md-nav__link--active">
      Tweaks
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rationale" title="Rationale" class="md-nav__link">
    Rationale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-implicit-node" title="Using the implicit node" class="md-nav__link">
    Using the implicit node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#omitting-empty-values" title="Omitting empty values" class="md-nav__link">
    Omitting empty values
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#absence-of-values" title="Absence of values" class="md-nav__link">
    Absence of values
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-on-redundancy" title="Note on redundancy" class="md-nav__link">
    Note on redundancy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#node-features" title="Node features" class="md-nav__link">
    Node features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edge-features" title="Edge features" class="md-nav__link">
    Edge features
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Search/" title="Search" class="md-nav__link">
      Search
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Api
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Api
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Api/General/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Api/Apps/" title="Apps" class="md-nav__link">
      Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Api/Bhsa/" title="Hebrew Bible" class="md-nav__link">
      Hebrew Bible
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Api/Cunei/" title="Cuneiform Tablets" class="md-nav__link">
      Cuneiform Tablets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Api/Transcription/" title="Auxiliary" class="md-nav__link">
      Auxiliary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Server/Kernel/" title="Kernel" class="md-nav__link">
      Kernel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Server/Web/" title="Web" class="md-nav__link">
      Web
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Server/Common/" title="Common" class="md-nav__link">
      Common
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Create
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Create
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Create/CreateTF/" title="Make TF" class="md-nav__link">
      Make TF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Create/ExampleText/" title="Example data" class="md-nav__link">
      Example data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rationale" title="Rationale" class="md-nav__link">
    Rationale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-implicit-node" title="Using the implicit node" class="md-nav__link">
    Using the implicit node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#omitting-empty-values" title="Omitting empty values" class="md-nav__link">
    Omitting empty values
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#absence-of-values" title="Absence of values" class="md-nav__link">
    Absence of values
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-on-redundancy" title="Note on redundancy" class="md-nav__link">
    Note on redundancy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#node-features" title="Node features" class="md-nav__link">
    Node features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edge-features" title="Edge features" class="md-nav__link">
    Edge features
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/dans-labs/text-fabric/edit/master/docs/Model/Optimizations.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="file-format-optimizations">File format Optimizations<a class="headerlink" href="#file-format-optimizations" title="Permanent link">&para;</a></h1>
<h2 id="rationale">Rationale<a class="headerlink" href="#rationale" title="Permanent link">&para;</a></h2>
<p>It is important to avoid an explosion of redundant data in <code>.tf</code> files. We want
the <code>.tf</code> format to be suitable for archiving, transparent to the human eye, and
easy (i.e. fast) to process.</p>
<h2 id="using-the-implicit-node">Using the implicit node<a class="headerlink" href="#using-the-implicit-node" title="Permanent link">&para;</a></h2>
<p>You may leave out the node spec for node features, and the first node spec for
edge features. When leaving out a node spec, you must also leave out the tab
following the node spec.</p>
<p>A line with the first node spec left out denotes the singleton node set
consisting of the <em>implicit node</em>. Here are the rules for implicit nodes.</p>
<ul>
<li>On a line where there is an explicit node spec, the implicit node is equal to
    the highest node denoted by the explicit node spec;</li>
<li>On a line without an explicit node spec, the implicit node is determined from
    the previous line as follows:<ul>
<li>if there is no previous line, take <code>1</code>;</li>
<li>else take the implicit node of the previous line and increment it by <code>1</code>.</li>
</ul>
</li>
</ul>
<p>For edges, this optimization only happens for the <em>first</em> node spec. The second
node spec must always be explicit.</p>
<p>This optimizes some feature files greatly, e.g. the feature that contains the
actual text of each word.</p>
<p>Instead of</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>1 be
2 reshit
3 bara
4 elohim
5 et
6 ha
7 shamajim
8 we
9 et
10 ha
11 arets
</pre></div>
</td></tr></table>

<p>you can just say</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>be
reshit
bara
elohim
et
ha
shamajim
we
et
ha
arets
</pre></div>
</td></tr></table>

<p>This optimization is not obligatory. It is a device that may be used if you want
to optimize the size of data files that you want to distribute.</p>
<h2 id="omitting-empty-values">Omitting empty values<a class="headerlink" href="#omitting-empty-values" title="Permanent link">&para;</a></h2>
<p>If the value is the empty string, you may also leave out the preceding tab (if
there is one). This is especially good for edge features, because most edges
just consist of a node pair without any value.</p>
<p>This optimization will cause a conceptual ambiguity if there is only one field
present in a node feature, or if there are only two fields in an edge feature.
It could mean that the (first) node spec has been left out, or that the value
has been left out.</p>
<p>In those cases we will assume that the node spec has been left out for node
features.</p>
<p>For edge features, it depends on whether the edge is declared to have values
(with <code>@edgeValues</code>). If the edge has values, then, as in the case of node
features, we assume that the first node spec has been left out. But if the edge
has no values, then we assume that both fields are node specs.</p>
<p>So, in a node feature a line like this</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>42
</pre></div>
</td></tr></table>

<p>means that the implicit node gets value <code>42</code>, and not that node <code>42</code> gets the
empty value.</p>
<p>Likewise, a line in an edge feature (without values) like this</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>42 43
</pre></div>
</td></tr></table>

<p>means that there is an edge from <code>42</code> to <code>43</code> with empty value, and not that
there is an edge from the implicit node to <code>42</code> with value 43.</p>
<p>And, in the same edge, a line like this</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>42
</pre></div>
</td></tr></table>

<p>means that there is an edge from the implicit node to <code>42</code> with the empty value.</p>
<p>But, in an edge with values, the same lines are interpreted thus:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>42 43
</pre></div>
</td></tr></table>

<p>means that there is an edge from the implicit node to node <code>42</code> with value <code>43</code>.</p>
<p>And</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>42
</pre></div>
</td></tr></table>

<p>means that there is an edge from the implicit node to node <code>42</code> with empty
value.</p>
<p>The reason for these conventions is practical: edge features usually have empty
labels, and there are many edges. In case of the Hebrew Text database, there are
1.5 million edges, so every extra character that is needed on a data line means
that the file size increases with 1.5 MB.</p>
<p>Nodes on the other hand, usually do not have empty values, and they are often
specified in a consecutive way, especially slot (word) nodes. There are quite
many distinct word features, and it would be a waste to have a column of half a
million incremental integers in those files.</p>
<h2 id="absence-of-values">Absence of values<a class="headerlink" href="#absence-of-values" title="Permanent link">&para;</a></h2>
<p>Say you have a node feature assigning a value to only 2000 of 400,000 nodes.
(The Hebrew <code>qere</code> would be an example). It is better to make sure that the
absent values are not coded as the empty string. So the feature data will look
like 2000 lines, each with a node spec, rather than a sequence of 400,000 lines,
most empty.</p>
<p>If you want to leave out just a few isolated cases in a feature where most nodes
get a value, you can do it like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>@node

x0000
...
x1000
1002 x1002
x1003
...
x9999
</pre></div>
</td></tr></table>

<p>Here all 10,000 nodes get a value, except node <code>1001</code>.</p>
<h2 id="note-on-redundancy">Note on redundancy<a class="headerlink" href="#note-on-redundancy" title="Permanent link">&para;</a></h2>
<p>Some features assign the same value to many nodes. It is tempting to make a
value definition facility, so that values are coded by short codes, the most
frequent values getting the shortest codes. After some experiments, it turned
out that the overall gain was just 50%.</p>
<p>I find this advantage too small to justify the increased code complexity, and
above all, the reduced transparency of the <code>.tf</code> files.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p>Here are a few more and less contrived examples of legal feature data lines.</p>
<h3 id="node-features">Node features<a class="headerlink" href="#node-features" title="Permanent link">&para;</a></h3>
<ol>
<li><code>\t\n</code></li>
<li><code>2 2\t3</code></li>
<li><code>foo\nbar</code></li>
<li><code>1 Escape \t as \\t</code></li>
</ol>
<p>meaning</p>
<ol>
<li>node 1 has value: <em>tab</em> <em>newline</em></li>
<li>node 2 has value: 2 <em>tab</em> 3</li>
<li>node 3 has value: foo <em>newline</em> bar</li>
<li>node 1 gets a new value: Escape <tab> as \t</li>
</ol>
<h3 id="edge-features">Edge features<a class="headerlink" href="#edge-features" title="Permanent link">&para;</a></h3>
<ol>
<li><code>1</code></li>
<li><code>1 2</code></li>
<li><code>2 3 foo</code></li>
<li><code>1-2 2-3 bar</code></li>
</ol>
<p>meaning</p>
<ol>
<li>edge from 1 to 1 with no value</li>
<li>edge from 1 to 2 with no value</li>
<li>edge from 2 to 3 with value foo</li>
<li>four edges: 1-&gt;2, 1-&gt;3, 2-&gt;2, 2-&gt;3, all with value bar. Note that edges can
    go from a node to itself. Note also that this line reassigns a value to two
    edges: 1-&gt;2 and 2-&gt;3.</li>
</ol>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../File-formats/" title="Format" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Format
              </span>
            </div>
          </a>
        
        
          <a href="../Search/" title="Search" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Search
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>