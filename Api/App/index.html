<!doctype html><html lang=en class=no-js> <head><link href=https://fonts.gstatic.com rel=preconnect crossorigin><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Text-Fabric is a Python3 package for Text plus Annotations. It provides a data model, a text file format, a binary format, an API, and apps for (ancient) text plus (linguistic) annotations."><link href=https://annotation.github.io/text-fabric/Api/App/ rel=canonical><meta name=author content="Dirk Roorda"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../images/icon/favicon.ico><meta name=generator content="mkdocs-1.1, mkdocs-material-4.6.3"><title>Advanced - Text-Fabric</title><link rel=stylesheet href=../../assets/stylesheets/application.44877490.css><script src=../../assets/javascripts/modernizr.b81a0a10.js></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700|Glegoo:300,400,400i,700|Ubuntu+Mono&display=swap"><style>.body-type,body,input{font-family:"Open Sans",sans-serif}.head-type,h1,h2,h3,h4,h5{font-family:"Glegoo",serif}.code-type,code,kbd,pre{font-family:"Ubuntu Mono",monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css></head> <body dir=ltr> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#advanced-api tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://dans.knaw.nl/en title="Data Archiving and Networked Services (DANS)" class="md-header-nav__button md-logo"> <img src=../../assets/images/DANS.gif height=50> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://annotation.github.io/text-fabric/ title=Text-Fabric class="md-header-nav__button md-logo"> <img src=../../images/tf-small.png height=50> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title head-type" data-md-component=title> <span class=md-header-nav__topic> Text-Fabric </span> <span class=md-header-nav__topic> Advanced </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/annotation/text-fabric/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> annotation/text-fabric </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. title=Home class="md-tabs__link head-type"> Home </a> </li> <li class=md-tabs__item> <a href=../../About/Install/ title=About class="md-tabs__link head-type"> About </a> </li> <li class=md-tabs__item> <a href=../../Use/Use/ title=Use class="md-tabs__link head-type"> Use </a> </li> <li class=md-tabs__item> <a href=./ title=Api class="md-tabs__link md-tabs__link--active head-type"> Api </a> </li> <li class=md-tabs__item> <a href=../../Writing/Arabic/ title=Writing class="md-tabs__link head-type"> Writing </a> </li> <li class=md-tabs__item> <a href=../../Model/Data-Model/ title=Model class="md-tabs__link head-type"> Model </a> </li> <li class=md-tabs__item> <a href=../../Create/Convert/ title=Create class="md-tabs__link head-type"> Create </a> </li> <li class=md-tabs__item> <a href=../../Server/Kernel/ title=Server class="md-tabs__link head-type"> Server </a> </li> <li class=md-tabs__item> <a href=../../Code/Overview/ title=Code class="md-tabs__link head-type"> Code </a> </li> <li class=md-tabs__item> <a href=../../Implementation/Apps/ title=Implementation class="md-tabs__link head-type"> Implementation </a> </li> </ul> </div> </nav> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title head-type md-nav__title--site" for=__drawer> <a href=https://annotation.github.io/text-fabric/ title=Text-Fabric class="md-nav__button md-logo"> <img src=../../images/tf-small.png width=48 height=48> </a> Text-Fabric </label> <div class=md-nav__source> <a href=https://github.com/annotation/text-fabric/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> annotation/text-fabric </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Home class="md-nav__link head-type"> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class="md-nav__link head-type" for=nav-2> About </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class="md-nav__title head-type" for=nav-2> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../About/Install/ title=Install class="md-nav__link head-type"> Install </a> </li> <li class=md-nav__item> <a href=../../About/Corpora/ title=Corpora class="md-nav__link head-type"> Corpora </a> </li> <li class=md-nav__item> <a href=../../About/Faq/ title=Faq class="md-nav__link head-type"> Faq </a> </li> <li class=md-nav__item> <a href=../../About/Story/ title=Story class="md-nav__link head-type"> Story </a> </li> <li class=md-nav__item> <a href=../../About/News/ title=News class="md-nav__link head-type"> News </a> </li> <li class=md-nav__item> <a href=../../About/Older/ title=Older class="md-nav__link head-type"> Older </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class="md-nav__link head-type" for=nav-3> Use </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class="md-nav__title head-type" for=nav-3> Use </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Use/Use/ title=Use class="md-nav__link head-type"> Use </a> </li> <li class=md-nav__item> <a href=../../Use/Browser/ title=Browser class="md-nav__link head-type"> Browser </a> </li> <li class=md-nav__item> <a href=../../Use/Search/ title=Search class="md-nav__link head-type"> Search </a> </li> <li class=md-nav__item> <a href=../../Use/UseX/ title=Advanced class="md-nav__link head-type"> Advanced </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4 checked> <label class="md-nav__link head-type" for=nav-4> Api </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class="md-nav__title head-type" for=nav-4> Api </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active head-type" for=__toc> Advanced </label> <a href=./ title=Advanced class="md-nav__link md-nav__link--active head-type"> Advanced </a> <nav class="md-nav md-nav--secondary"> <label class="md-nav__title head-type" for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#incantation title=Incantation class="md-nav__link head-type"> Incantation </a> </li> <li class=md-nav__item> <a href=#search title=Search class="md-nav__link head-type"> Search </a> </li> <li class=md-nav__item> <a href=#linking title=Linking class="md-nav__link head-type"> Linking </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sections title=Sections class="md-nav__link head-type"> Sections </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#display title=Display class="md-nav__link head-type"> Display </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2 type=checkbox id=nav-4-2> <label class="md-nav__link head-type" for=nav-4-2> Core </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class="md-nav__title head-type" for=nav-4-2> Core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Fabric/ title=TF class="md-nav__link head-type"> TF </a> </li> <li class=md-nav__item> <a href=../Features/ title="E/F - (Edge-)Features" class="md-nav__link head-type"> E/F - (Edge-)Features </a> </li> <li class=md-nav__item> <a href=../Nodes/ title="N - Nodes" class="md-nav__link head-type"> N - Nodes </a> </li> <li class=md-nav__item> <a href=../Locality/ title="L - Locality" class="md-nav__link head-type"> L - Locality </a> </li> <li class=md-nav__item> <a href=../Text/ title="T - Text" class="md-nav__link head-type"> T - Text </a> </li> <li class=md-nav__item> <a href=../Search/ title="S - Search" class="md-nav__link head-type"> S - Search </a> </li> <li class=md-nav__item> <a href=../Computed/ title="C - Computed" class="md-nav__link head-type"> C - Computed </a> </li> <li class=md-nav__item> <a href=../Misc/ title=Miscellaneous class="md-nav__link head-type"> Miscellaneous </a> </li> <li class=md-nav__item> <a href=../Lib/ title=Lib class="md-nav__link head-type"> Lib </a> </li> <li class=md-nav__item> <a href=../Helpers/ title=Helpers class="md-nav__link head-type"> Helpers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-3 type=checkbox id=nav-4-3> <label class="md-nav__link head-type" for=nav-4-3> Data flow </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class="md-nav__title head-type" for=nav-4-3> Data flow </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Data/ title=Data class="md-nav__link head-type"> Data </a> </li> <li class=md-nav__item> <a href=../Repo/ title=Repo class="md-nav__link head-type"> Repo </a> </li> <li class=md-nav__item> <a href=../Github/ title=GitHub class="md-nav__link head-type"> GitHub </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-4 type=checkbox id=nav-4-4> <label class="md-nav__link head-type" for=nav-4-4> Compose </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class="md-nav__title head-type" for=nav-4-4> Compose </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Compose/ title=Combining class="md-nav__link head-type"> Combining </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class="md-nav__link head-type" for=nav-5> Writing </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class="md-nav__title head-type" for=nav-5> Writing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Writing/Arabic/ title=Arabic class="md-nav__link head-type"> Arabic </a> </li> <li class=md-nav__item> <a href=../../Writing/Hebrew/ title=Hebrew class="md-nav__link head-type"> Hebrew </a> </li> <li class=md-nav__item> <a href=../../Writing/Syriac/ title=Syriac class="md-nav__link head-type"> Syriac </a> </li> <li class=md-nav__item> <a href=../../Writing/Transcription/ title=Transcription class="md-nav__link head-type"> Transcription </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class="md-nav__link head-type" for=nav-6> Model </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class="md-nav__title head-type" for=nav-6> Model </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Model/Data-Model/ title=Data class="md-nav__link head-type"> Data </a> </li> <li class=md-nav__item> <a href=../../Model/File-formats/ title=Format class="md-nav__link head-type"> Format </a> </li> <li class=md-nav__item> <a href=../../Model/Optimizations/ title=Tweaks class="md-nav__link head-type"> Tweaks </a> </li> <li class=md-nav__item> <a href=../../Model/Search/ title=Search class="md-nav__link head-type"> Search </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class="md-nav__link head-type" for=nav-7> Create </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class="md-nav__title head-type" for=nav-7> Create </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Create/Convert/ title=Convert class="md-nav__link head-type"> Convert </a> </li> <li class=md-nav__item> <a href=../../Create/CreateTF/ title=Pattern class="md-nav__link head-type"> Pattern </a> </li> <li class=md-nav__item> <a href=../../Create/ExampleText/ title="Example data" class="md-nav__link head-type"> Example data </a> </li> <li class=md-nav__item> <a href=../../Create/MQL/ title=MQL class="md-nav__link head-type"> MQL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class="md-nav__link head-type" for=nav-8> Server </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class="md-nav__title head-type" for=nav-8> Server </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Server/Kernel/ title=Kernel class="md-nav__link head-type"> Kernel </a> </li> <li class=md-nav__item> <a href=../../Server/Web/ title=Web class="md-nav__link head-type"> Web </a> </li> <li class=md-nav__item> <a href=../../Server/Common/ title=Common class="md-nav__link head-type"> Common </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class="md-nav__link head-type" for=nav-9> Code </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class="md-nav__title head-type" for=nav-9> Code </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Code/Overview/ title=Overview class="md-nav__link head-type"> Overview </a> </li> <li class=md-nav__item> <a href=../../Code/Tests/ title=Tests class="md-nav__link head-type"> Tests </a> </li> <li class=md-nav__item> <a href=../../Code/Stats/ title="Stats (overall)" class="md-nav__link head-type"> Stats (overall) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsToplevel/ title="Stats (TF-toplevel)" class="md-nav__link head-type"> Stats (TF-toplevel) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsCore/ title="Stats (TF-core)" class="md-nav__link head-type"> Stats (TF-core) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsSearch/ title="Stats (TF-search)" class="md-nav__link head-type"> Stats (TF-search) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsConvert/ title="Stats (TF-convert)" class="md-nav__link head-type"> Stats (TF-convert) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsCompose/ title="Stats (TF-compose)" class="md-nav__link head-type"> Stats (TF-compose) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsWriting/ title="Stats (TF-writing)" class="md-nav__link head-type"> Stats (TF-writing) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsServer/ title="Stats (TF-server)" class="md-nav__link head-type"> Stats (TF-server) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsApplib/ title="Stats (TF-app support)" class="md-nav__link head-type"> Stats (TF-app support) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsApps/ title="Stats (TF-apps)" class="md-nav__link head-type"> Stats (TF-apps) </a> </li> <li class=md-nav__item> <a href=../../Code/StatsTest/ title="Stats (Tests)" class="md-nav__link head-type"> Stats (Tests) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-10 type=checkbox id=nav-10> <label class="md-nav__link head-type" for=nav-10> Implementation </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class="md-nav__title head-type" for=nav-10> Implementation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Implementation/Apps/ title=Apps class="md-nav__link head-type"> Apps </a> </li> <li class=md-nav__item> <a href=../../Implementation/Setup/ title=Setup class="md-nav__link head-type"> Setup </a> </li> <li class=md-nav__item> <a href=../../Implementation/Data/ title=Data class="md-nav__link head-type"> Data </a> </li> <li class=md-nav__item> <a href=../../Implementation/Display/ title=Display class="md-nav__link head-type"> Display </a> </li> <li class=md-nav__item> <a href=../../Implementation/Highlight/ title=Highlight class="md-nav__link head-type"> Highlight </a> </li> <li class=md-nav__item> <a href=../../Implementation/Links/ title=Links class="md-nav__link head-type"> Links </a> </li> <li class=md-nav__item> <a href=../../Implementation/Search/ title=Search class="md-nav__link head-type"> Search </a> </li> <li class=md-nav__item> <a href=../../Implementation/Tables/ title=Tables class="md-nav__link head-type"> Tables </a> </li> <li class=md-nav__item> <a href=../../Implementation/Helpers/ title=Helpers class="md-nav__link head-type"> Helpers </a> </li> <li class=md-nav__item> <a href=../../apidocs/html/tf/ title=docstrings class="md-nav__link head-type"> docstrings </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class="md-nav__title head-type" for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#incantation title=Incantation class="md-nav__link head-type"> Incantation </a> </li> <li class=md-nav__item> <a href=#search title=Search class="md-nav__link head-type"> Search </a> </li> <li class=md-nav__item> <a href=#linking title=Linking class="md-nav__link head-type"> Linking </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sections title=Sections class="md-nav__link head-type"> Sections </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#display title=Display class="md-nav__link head-type"> Display </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/annotation/text-fabric/edit/master/docs/Api/App.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=advanced-api>Advanced API<a class=headerlink href=#advanced-api title="Permanent link">&para;</a></h1> <details class=abstract><summary>About</summary><p>The advanced-API provides extra functionality of top of the core of TF. The most notable thing is display. The functions <code>plain()</code> and <code>pretty()</code> are able to display nodes using extra information about what those nodes typically represent in a specific corpus.</p> <p>The real power of the advanced API is unleashed when there are well-tuned configuration settings for a corpus, and possibly some supporting application code and CSS styling.</p> <p>Depending on the settings, the advanced-API knows how to download the data, and can be invoked by a simple incantation.</p> </details> <h2 id=incantation>Incantation<a class=headerlink href=#incantation title="Permanent link">&para;</a></h2> <details class=abstract><summary>use()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=kn>from</span> <span class=nn>tf.app</span> <span class=kn>import</span> <span class=n>use</span>
<span class=n>A</span> <span class=o>=</span> <span class=n>use</span><span class=p>(</span><span class=n>appName</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>Hint: think of the <code>use {database}</code> statements in MySQL and MongoDb.</p> <p>Without further arguments, this will set up an TF core API with most features loaded, wrapped in an corpus-specific advanced API.</p> <details class=abstract><summary>Start up sequence</summary><p>During start-up the following happens:</p> <p>(1) the corpus data is downloaded to your <code>~/text-fabric-data</code> directory, if not already present there;</p> <p>(2) if your data has been freshly downloaded, a series of optimizations is executed;</p> <p>(3) most features of the corpus are loaded into memory.</p> <p>(4) the data is inspected to derive configuration information for the advanced API; if present, additional settings, code and styling is loaded;</p> </details> <p>There are many scenarios in which you can work with the advanced API: in a Python script or in a notebook or in the TF-browser. If you start the TF browser, a <em>kernel</em> process is started that holds the TF data. Then a webserver is started that communicates with the kernel, much like how webserver communicates with a database.</p> <p>The advanced API supports all these scenarios by means of additional arguments to the incantation.</p> <details class=info open=open><summary>appName</summary><p>The appname can be as simple as the name of an existing TF-app. The app should exist as a repository <code>app-</code><em>appName</em> under <a href=https://github.com/annotation>github.com/annotation</a>, see also <a href=../../About/Corpora/ >Corpora</a>. </p> <p>If there is a <code>/</code> in the appName argument, it is interpreted as a location on your system.</p> <p>If it points to a directory with a <code>config.yaml</code> in it, this <code>config.yaml</code> will be read and interpreted as settings for the advanced API. If there is also a <code>app.py</code>, it will be imported as custom application code. And if there is a <code>static/display.css</code> there, it will be used for styling the display of corpus material.</p> <p>If there is no <code>config.yaml</code> there, it will be assumed that there are <code>.tf</code> data files in that location, and they will be loaded. The advanced API will work with default settings, based on the <code>.tf</code> data found.</p> </details> <details class=hint open=open><summary>appName:specifier, checkout=specifier</summary><p>Sometimes you want to load all features without thinking, at other times you want to be selective. You may want to load downloadable features from the internet, or you want to experiment with features you are developing. The specifiers let you use a specific point in the history of the app and data.</p> <p><em>appName:specifier</em> is used for retrieving a TF-app (<em>code</em>).</p> <p><em>checkout=specifier</em> is for retrieving the corpus itself (<em>data</em>).</p> <ul> <li><code>''</code> (empty string or absent) (<strong>default</strong>): use local data if it is present under <code>~/text-fabric-data</code>, otherwise use the latest release if there are releases online, otherwise, use the latest commit.</li> <li><code>latest</code>: use the latest release. If there are commits after the commit that has been tagged with the latest release, these will <strong>not</strong> be used.</li> <li><code>hot</code>: use the latest commit, even if it comes after the latest commit of the latest release.</li> <li><em>release tag</em>, e.g. <code>v1.3</code>: use exactly this release. More precisely, this is the commit that has been tagged with that release tag.</li> <li><em>commit hash</em>, e.g. <code>2d0ca1f593805af0c13c4a62ed7405b94d870045</code>: use exactly this commit.</li> <li><code>local</code>: use local data from your <code>~/text-fabric-data</code> directory if it is present, otherwise fail.</li> <li><code>clone</code>: use local data from your <code>~/github</code> directory if it is present, otherwise fail.</li> </ul> <p>For a demo, see <a href=https://nbviewer.jupyter.org/github/annotation/tutorials/blob/master/banks/repo.ipynb>banks/repo</a></p> </details> <details class=info><summary>hoist=globals()</summary><p>This makes the API elements directly available as global names in your script or notebook: you can refer to <code>F</code>, <code>L</code>, <code>T</code>, etc. directly, instead of the more verbose <code>A.api.F</code>, <code>A.api.L</code>, <code>A.api.T</code> etc.</p> <p>If you pass this argument, TF will show you what names will be inserted in your namespace. And if you are in a Jupyter notebook, these names are linked to their documentation.</p> </details> <p>Without further arguments, TF thinks you are a user that wants to work with as much data possible without hassle. It makes some standard choices for you, and it will auto-download data, if there are settings specified in a <code>config.yaml</code> that indicate where the data can be downloaded from.</p> <p>The following options are for people who want increasingly finer control over the features that are being loaded.</p> <details class=info><summary>version=VERSION</summary><p>If you do not want to work with the default version of your main corpus, you can specify a different version here.</p> <details class=example><summary>versions</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span> <span class=o>=</span> <span class=n>use</span><span class=p>(</span><span class=s1>&#39;xxxx&#39;</span><span class=p>,</span> <span class=n>version</span><span class=o>=</span><span class=s1>&#39;2017&#39;</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>In fact, this single statement will download that Xxxx version if you do not already have it.</p> </details> <details class=note><summary>Modules</summary><p>If you also ask for extra data modules by means of the <code>mod</code> argument, then the corresponding version of those modules will be chosen. Every properly designed data module must refer to a specific version of the main source!</p> </details> </details> <details class=info><summary>mod=None</summary><p><code>mod</code> is a comma-separated list of modules in one of the forms</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><code>{org}/{repo}/{path}
{org}/{repo}/{path}:specifier
</code></pre></div> </td></tr></table> <p>All features of all those modules will be loaded. If they are not yet present, they will be downloaded from GitHub first.</p> <p>For example, there is an easter egg module on GitHub, and you can obtain it by</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code>mod=&#39;etcbc/lingo/easter/tf&#39;
</code></pre></div> </td></tr></table> <p>Here the <code>{org}</code> is <code>etcbc</code>, the <code>{repo}</code> is <code>lingo</code>, and the <code>{path}</code> is <code>easter/tf</code> under which version <code>c</code> of the feature <code>egg</code> is available in TF format.</p> <p>You can point to any such directory om the entire GitHub if you know that it contains relevant features.</p> <p>The specifier is as in <code>appName:specifier</code> and <code>checkData=specifier</code> above: for using a different point in the history.</p> <p>Your TF app might be configured to download specific modules. See <code>MODULE_SPECS</code> in the app's <a href=../../Implementation/Apps/#components>config.py</a>,</p> <details class=caution><summary>Let TF manage your text-fabric-data directory</summary><p>It is better not to fiddle with your <code>~/text-fabric-data</code> directory manually. Let it be filled with auto-downloaded data. You can then delete data sources and modules when needed, and have them redownloaded at your wish, without any hassle or data loss.</p> </details> </details> <details class=info><summary>locations and modules arguments</summary><p>If you want to add other search locations for TF features manually, you can pass optional <code>locations</code> and <code>modules</code> parameters, which will be passed to the <a href=../Fabric/#loading>Fabric()</a> call to the core of TF.</p> <details class=note><summary>More, not less</summary><p>Using these arguments will load features on top of the default selection of features. You cannot use these arguments to prevent features from being loaded.</p> </details> <details class=note><summary>appName with <code>/</code></summary><p>If you use the <em>appName</em> argument with a <code>/</code> in it, and it does not point to a TF app you have locally, it will be interpreted as a <em>locations</em> search path to find <code>.tf</code> files. It acts as the main <code>locations</code> argument, and will be combined with the <code>modules</code> argument.</p> </details> </details> <details class=info><summary>api=None</summary><p>So far, the TF app will construct an advanced API with a more or less standard set of features loaded, and make that API avaible to you, under <code>A.api</code>.</p> <p>But you can also setup an API yourself by using the <a href=../Fabric/#loading>core TF machinery</a>:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=kn>from</span> <span class=nn>tf.fabric</span> <span class=kn>import</span> <span class=n>Fabric</span>
<span class=n>TF</span> <span class=o>=</span> <span class=n>Fabric</span><span class=p>(</span><span class=n>locations</span><span class=o>=...</span><span class=p>,</span> <span class=n>modules</span><span class=o>=...</span><span class=p>)</span>
<span class=n>api</span> <span class=o>=</span> <span class=n>TF</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>features</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>Here you have full control over what you load and what not.</p> <p>If you want the extra power of the TF app, you can wrap this <code>api</code>:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span> <span class=o>=</span> <span class=n>use</span><span class=p>(</span><span class=s1>&#39;xxxx&#39;</span><span class=p>,</span> <span class=n>api</span><span class=o>=</span><span class=n>api</span><span class=p>)</span>
</code></pre></div> </td></tr></table> </details> <details class=info><summary>Unloaded features</summary><p>Some apps do not load all available features of the corpus by default.</p> <p>This happens when a corpus contains quite a number of features that most people never need. Loading them cost time and takes a lot of RAM.</p> <p>In the case where you need an available feature that has not been loaded, you can load it by demanding</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>TF</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s1>&#39;feature1 feature2&#39;</span><span class=p>,</span> <span class=n>add</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>provided you have used the <code>hoist=globals()</code> parameter earlier. If not, you have to say</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>api</span><span class=o>.</span><span class=n>TF</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s1>&#39;feature1 feature2&#39;</span><span class=p>,</span> <span class=n>add</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> </td></tr></table> </details> <details class=info><summary>silent=False</summary><p>If <code>True</code>, nearly all output of this call will be suppressed, including the links to the loaded data, features, and the API methods. Error messages will still come through.</p> </details> </details> <details class=abstract><summary>A.showContext()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>showContext</span><span class=p>(</span><span class=o>*</span><span class=n>keys</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>???+ Description" Shows the <em>context</em> of the app (<code>A.context</code>) in a pretty way.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><code>The context is the result of computing sensible defaults for the corpus
combined with configuration settings in the app&#39;s `config.yaml`.

For each `key` passed to this function, the information for that key will be displayed.
If no keys are passed, all keys will be displayed.

???+ hint &quot;reuse after change&quot;
    If you are developing an app and change the configuration settings,
    they will be applied if you do `A.reuse()`.
    See below.
</code></pre></div> </td></tr></table> </details> <details class=abstract><summary>A.reuse()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>reuse</span><span class=p>()</span>
</code></pre></div> </td></tr></table> <details open=open><summary>Description</summary><p>Re-initialize the app. The app's settings are read again, the app's code is re-imported, the app's stylesheets are applied again. But the data is left untouched, and no time-consuming reloading of data takes place.</p> <p>Handy when you are developing a new app and want to experiment with it without the costly re-loading of the data in every cycle.</p> </details> </details> <h2 id=search>Search<a class=headerlink href=#search title="Permanent link">&para;</a></h2> <details class=abstract><summary>A.search()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>shallow</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>sets</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sort</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details open=open><summary>Description</summary><p>Searches in the same way as the generic Text-Fabric <a href=../Search/#search><code>S.search()</code></a>. But whereas the <code>S</code> version returns a generator which yields the results one by one, the <code>A</code> version collects all results and sorts them in the <a href=../Nodes/#navigating-nodes>canonical order</a>. (but you can change the sorting, see the <code>sort</code> parameter). It then reports the number of results.</p> <p>It will also set the display parameter <code>tupleFeatures</code> (see below) in such a way that subsequent calls to <code>A.export()</code> emit the features that have been used in the query.</p> </details> <details class=info><summary>query</summary><p>the <a href=../../Use/Search/#search-template-reference>search template</a> that has to be searched for.</p> </details> <details class=info><summary>silent</summary><p>if <code>True</code> it will suppress the reporting of the number of results.</p> </details> <details class=info><summary>shallow</summary><p>If <code>True</code> or <code>1</code>, the result is a set of things that match the top-level element of the <code>query</code>.</p> <p>If <code>2</code> or a bigger number <em>n</em>, return the set of truncated result tuples: only the first <em>n</em> members of each tuple are retained.</p> <p>If <code>False</code> or <code>0</code>, a list of all result tuples will be returned.</p> </details> <details class=info><summary>sets</summary><p>If not <code>None</code>, it should be a dictionary of sets, keyed by a names. In <code>query</code> you can refer to those names to invoke those sets.</p> <p>For example, if you have a set <code>gappedPhrases</code> of all phrase nodes that have a gap, you can pass <code>sets=dict(gphrase=gappedPhrases)</code>, and then in your query you can say</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><code>gphrase function=Pred
  word sp=verb
</code></pre></div> </td></tr></table> <p>etc.</p> <p>This is handy when you need node sets that cannot be conveniently queried. You can produce them by hand-coding. Once you got them, you can use them over and over again in queries. Or you can save them with <a href=../Lib/#sets>writeSets</a> and use them in the TF browser.</p> </details> <details class=info><summary>sort</summary><p>If <code>True</code> (default), search results will be returned in <a href=../Nodes/#navigating-nodes>canonical order</a>.</p> <details class=note><summary>canonical sort key for tuples</summary><p>This sort is achieved by using the function <a href=../Nodes/#navigating-nodes>sortKeyTuple</a> as sort key.</p> </details> <p>If it is a <em>sort key</em>, i.e. function that can be applied to tuples of nodes returning values, then these values will be used to sort the results. </p> <p>If it is a False value, no sorting will be applied.</p> </details> <details class=hint><summary>search template reference</summary><p>See the <a href=../../Use/Search/#search-templates>search template reference</a></p> </details> </details> <h2 id=linking>Linking<a class=headerlink href=#linking title="Permanent link">&para;</a></h2> <details class=abstract><summary>A.webLink()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>webLink</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>text</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details open=open><summary>Description</summary><p>Produces a link to an online website dedicated to the main corpus.</p> </details> <details class=info><summary>node</summary><p><code>node</code> can be an arbitrary node. The link targets the verse/tablet that contains the first word/sign contained by the node.</p> </details> <details class=info><summary>text</summary><p>You may provide the text to be displayed as the link. Then the passage indicator (book chapter:verse or tablet column line) will be put in the tooltip (title) of the link. If you do not provide a link text, the passage indicator will be chosen.</p> </details> <details class=example><summary>Ezra 3:4 on SHEBANQ</summary><p>First we obtain the node</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>z</span> <span class=o>=</span> <span class=n>A</span><span class=o>.</span><span class=n>nodeFromSectionStr</span><span class=p>(</span><span class=s1>&#39;Ezra 3:4&#39;</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>then we call <code>webLink</code></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>webLink</span><span class=p>(</span><span class=n>z</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>with this result: <a href="https://shebanq.ancient-data.org/hebrew/text?book=Esra&chapter=3&verse=4&version=c&mr=m&qw=q&tp=txt_p&tr=hb&wget=v&qget=v&nget=vt">Ezra 3:4</a></p> </details> </details> <details class=abstract><summary>A.header()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>header</span><span class=p>()</span>
</code></pre></div> </td></tr></table> <p>???+ Description" Shows the header with feature links that is normally displayed after the incantation. This comes in handy if you have started with <code>use(xxx, silence='deep')</code> and still need to show the header.</p> </details> <details class=abstract><summary>A.showProvenance()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>showProvenance</span><span class=p>(</span><span class=n>jobName</span><span class=o>=</span><span class=s2>&quot;program&quot;</span><span class=p>,</span> <span class=n>author</span><span class=o>=</span><span class=s2>&quot;program author&quot;</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>???+ Description" Shows the provenance that is normally displayed during data loading. This comes in handy if you have started with <code>use(xxx, silence='deep')</code> and still need to show the provenance. Moreover, the provenance is shown in a formatted way.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><code>You can pass the name of the program and your own name as parameters, and they
will be displayed together with the rest of the provenance.
</code></pre></div> </td></tr></table> </details> <h3 id=sections>Sections<a class=headerlink href=#sections title="Permanent link">&para;</a></h3> <details class=abstract><summary>A.nodeFromSectionStr()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>nodeFromSectionStr</span><span class=p>(</span><span class=n>sectionStr</span><span class=p>,</span> <span class=n>lang</span><span class=o>=</span><span class=s1>&#39;en&#39;</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Given a section string pointing to a section, return the corresponding node (or an error message).</p> <p>Compare <a href=../Text/#sections><code>T.nodeFromSection</code></a>.</p> </details> <details class=info><summary>sectionStr</summary><p><code>sectionStr</code> must be a valid section specficiation in the language specified in <code>lang</code>.</p> <p>The string may specific a section 0 level only (book/tablet), or section 0 and 1 levels (book/tablet chapter/column), or all levels (book/tablet chapter/column verse/line).</p> <p>Examples:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><code>Genesis
Genesis 1
Genesis 1:1
</code></pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><code>P005381
P005381 1
P005381 1:1
</code></pre></div> </td></tr></table> <p>Depending on what is passed, the result is a node of section level 0, 1, or 2.</p> </details> <details class=info><summary>lang</summary><p>The language assumed for the section parts, as far as they are language dependent.</p> </details> </details> <details class=abstract><summary>A.sectionStrFromNode()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>sectionStrFromNode</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>lang</span><span class=o>=</span><span class=s1>&#39;en&#39;</span><span class=p>,</span> <span class=n>lastSlot</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>fillup</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Returns the section label (a string) that correspond to the reference node, which is the first or last slot belonging to <code>node</code>, dependent on <code>lastSlot</code>. The result is a string, built from the labels of the individual section levels (in language <code>lang</code> where applicable). But see the <code>fillup</code> parameter.</p> <p>Compare <a href=../Text/#sections><code>T.sectionFromNode</code></a>.</p> </details> <details class=info><summary>node</summary><p>The node from which we obtain a section specification.</p> </details> <details class=info><summary>lastSlot</summary><p>Whether the reference node will be the last slot contained by the <code>node</code> argument or the first node.</p> </details> <details class=info><summary>lang</summary><p>The language to be used for the section parts, as far as they are language dependent.</p> </details> <details class=info><summary>fillup</summary><p>Same as for <a href=../Text/#sections><code>T.sectionTuple()</code></a></p> </details> </details> <details class=abstract><summary>A.structureStrFromNode()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>structureStrFromNode</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Returns the structure label (a string) that correspond to the reference node, which is the first or last slot belonging to <code>node</code>, dependent on <code>lastSlot</code>. The result is a string, built from the labels of the individual structure levels.</p> <p>Compare <a href=../Text/#structure><code>T.headingFromNode</code></a>.</p> </details> <details class=info><summary>node</summary><p>The node from which we obtain a section specification.</p> </details> <details class=info><summary>lastSlot</summary><p>Whether the reference node will be the last slot contained by the <code>node</code> argument or the first node.</p> </details> <details class=info><summary>lang</summary><p>The language to be used for the section parts, as far as they are language dependent.</p> </details> <details class=info><summary>fillup</summary><p>Same as for <a href=../Text/#sections><code>T.sectionTuple()</code></a></p> </details> </details> <h2 id=display>Display<a class=headerlink href=#display title="Permanent link">&para;</a></h2> <details class=abstract><summary>About</summary><p>Where the advanced API really shines is in displaying nodes. There are basically two ways of displaying a node:</p> <p><em>plain</em>: just the associated text of a node, or if that would be too much, an identifying label of that node (e.g. for books, chapters and lexemes).</p> <p><em>pretty</em>: a display of the internal structure of the textual object a node stands for. That structure is adorned with relevant feature values.</p> <p>A TF app offers these display methods for nodes, tuples of nodes, and iterables of tuples of nodes (think: query results). The names of these methods are</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>plain</span><span class=p>()</span> <span class=n>plainTuple</span><span class=p>()</span> <span class=n>table</span><span class=p>()</span>

<span class=n>pretty</span><span class=p>()</span> <span class=n>prettyTuple</span><span class=p>()</span> <span class=n>show</span><span class=p>()</span>
</code></pre></div> </td></tr></table> <p>In plain and pretty displays, certain parts can be <em>highlighted</em>, which is good for displaying query results where the parts that correspond directly to the search template are highlighted.</p> </details> <details class=abstract><summary>Setting up display parameters</summary><p>There is a bunch of parameters that govern how the display functions arrive at their results. You can pass them as optional arguments to these functions, or you can set up them in advance, and reset them to their original state when you are done. </p> <p>All calls to the display functions look for the values for these parameters in the following order:</p> <ul> <li>optional parameters passed directly to the function,</li> <li>values as set up by previous calls to <code>displaySetup()</code>,</li> <li>corpus dependent default values configured by the advanced API.</li> </ul> </details> <details class=abstract open=open><summary>List of display parameters</summary><p>See <a href=../../apidocs/html/tf/applib/displaysettings.html#tf.applib.displaysettings.INTERFACE_OPTIONS>INTERFACE_OPTIONS</a> and <a href=../../apidocs/html/tf/applib/displaysettings.html#tf.applib.displaysettings.DISPLAY_OPTIONS>DISPLAY_OPTIONS</a></p> </details> <details class=abstract><summary>A.displaySetup()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>displaySetup</span><span class=p>(</span><span class=n>parameter1</span><span class=o>=</span><span class=n>value1</span><span class=p>,</span> <span class=n>parameter2</span><span class=o>=</span><span class=n>value2</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>Assigns working values to display parameters (see the section above). All subsequent calls to the display functions will use these values, unless they are passed overriding values as arguments.</p> <p>These working values remain in effect until a new call to <code>displaySetup()</code> assigns new values, or a call to <code>displayReset()</code> resets the values to the defaults.</p> <details class=example><summary>extra features</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>displayReset</span><span class=p>(</span><span class=n>extraFeatures</span><span class=o>=</span><span class=s1>&#39;egg&#39;</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>will cause displays to show the values of the <code>egg</code> feature for each node that has <code>egg</code> values:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>pretty</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>But if you want to suppress the <code>egg</code> for a particular display, you can say</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>pretty</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>extraFeatures</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>And if you want to turn it off for future displays, you can say</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>displayReset</span><span class=p>(</span><span class=s1>&#39;extraFeatures&#39;</span><span class=p>)</span>
</code></pre></div> </td></tr></table> </details> </details> <details class=abstract><summary>A.displayReset()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>displayReset</span><span class=p>(</span><span class=n>parameter1</span><span class=p>,</span> <span class=n>parameter2</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <p>Reset the given display parameters to their default value and let the others retain their current value.</p> <p>So you can reset the display parameters selectively.</p> <details class=hint open=open><summary>Reset all</summary><p>If you call this function without parameters at all, the effect is that <em>all</em> display parameters are reset to their default values:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>displayReset</span><span class=p>()</span>
</code></pre></div> </td></tr></table> </details> </details> <details class=abstract><summary>A.plain()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>plain</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=o>**</span><span class=n>displayParameters</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Displays the material that corresponds to a node in a compact way. Nodes with little content will be represented by their text content, nodes with large content will be represented by an identifying label.</p> </details> <details class=info><summary>node</summary><p>a node of arbitrary type.</p> </details> </details> <details class=abstract><summary>A.plainTuple()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>plainTuple</span><span class=p>(</span><span class=n>nodes</span><span class=p>,</span> <span class=n>seqNumber</span><span class=p>,</span> <span class=o>**</span><span class=n>displayParameters</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Displays the material that corresponds to a tuple of nodes as a row of cells, each displaying a member of the tuple by means of <code>plain()</code>.</p> </details> <details class=info><summary>nodes</summary><p>an iterable (list, tuple, set, etc) of arbitrary nodes.</p> </details> <details class=info><summary>seqNumber</summary><p>an arbitrary number which will be displayed in the first cell. This prepares the way for displaying query results, which come as a sequence of tuples of nodes.</p> </details> </details> <details class=abstract><summary>A.table()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>table</span><span class=p>(</span><span class=n>results</span><span class=p>,</span> <span class=o>**</span><span class=n>displayParameters</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Displays an iterable of tuples of nodes. The list is displayed as a compact markdown table. Every row is prepended with the sequence number in the iterable, and then displayed by <code>plainTuple()</code></p> </details> <details class=info><summary>results</summary><p>an iterable of tuples of nodes. The results of a search qualify, but it works no matter which process has produced the tuples.</p> </details> <details class=hint><summary>condense, condenseType</summary><p>You can condense the list first to containers of <code>condenseType</code>, before displaying the list. Pass the display parameters <code>condense</code> and <code>condenseType</code> (documented above).</p> </details> </details> <details class=abstract><summary>A.export()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>export</span><span class=p>(</span><span class=n>results</span><span class=p>,</span> <span class=n>toDir</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>toFile</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>displayParameters</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Exports an iterable of tuples of nodes to an Excel friendly <code>.tsv</code> file. There will be a row for each tuple. The columns are:</p> <ul> <li><strong>R</strong> the sequence number of the result tuple in the result list</li> <li><strong>S1 S2 S3</strong> the section as book, chapter, verse, in separate columns; the section is the section of the first non book/chapter node in the tuple</li> <li><strong>NODEi TYPEi</strong> the node and its type, for each node <strong>i</strong> in the result tuple</li> <li><strong>TEXTi</strong> the full text of node <strong>i</strong>, if the node type admits a concise text representation; the criterion is whether the node type has a type not bigger than the default condense type, which is app specific. If you pass an explicit <code>condenseType=</code><em>xxx</em> as display parameter, then this is the reference condenseType on which the decision is based.</li> <li><strong>XFi</strong> the value of extra feature <strong>XF</strong> for node <strong>i</strong>, where these features have been declared by a previous displaySetup(tupleFeatures=...)`</li> </ul> <p>See for detailed examples the <a href=https://nbviewer.jupyter.org/github/annotation/tutorials/blob/master/bhsa/exportExcel.ipynb>exportExcel</a> and <a href=https://nbviewer.jupyter.org/github/annotation/tutorials/blob/master/oldbabylonian/exportExcel.ipynb>exportExcel</a> notebooks.</p> </details> <details class=info><summary>results</summary><p>an iterable of tuples of nodes. The results of a search qualify, but it works no matter which process has produced the tuples.</p> </details> <details class=info><summary>toDir</summary><p>The destination directory for the exported file. By default it is your Downloads folder.</p> <p>If the directory does not exist, it will be created.</p> </details> <details class=info><summary>toFile</summary><p>The name of the exported file. By default it is <code>results.tsv</code></p> </details> <details class=info><summary>condensed=</summary><p>Has no effect. Exports to Excel will not be condensed, because the number of columns is variable per row in that case. Excel itself as nice possibilities for grouping rows. You can also filter your tuples by means of hand-coding before exporting them.</p> </details> <details class=info><summary>condenseType=</summary><p>The condense type influences for which nodes the full text will be exported. Only nodes that are "smaller" than the condense type will have their full text exported.</p> </details> <details class=info><summary>fmt=</summary><p>This display parameter specifies the text format for any nodes that trigger a text value to be exported.</p> </details> <details class=info><summary>tupleFeatures=</summary><p>This is a display parameter that steers which features are exported with each member of the tuples in the list. See above under "Setting up display parameters"</p> <p>If the iterable of tuples are the results of a query you have just run, then an appropriate call to <code>displaySetup(tupleFeatures=...)</code> has already been issued, so you can just say:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>results</span> <span class=o>=</span> <span class=n>A</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>query</span><span class=p>)</span>
<span class=n>A</span><span class=o>.</span><span class=n>export</span><span class=p>(</span><span class=n>results</span><span class=p>)</span>
</code></pre></div> </td></tr></table> </details> <details class=caution><summary>Encoding</summary><p>The exported file is written in the <code>utf_16_le</code> encoding. This ensures that Excel can open it without hassle, even if there are non-latin characters inside.</p> <p>When you want to read the exported file programmatically, open it with <code>encoding=utf_16</code>.</p> </details> </details> <details class=abstract><summary>A.pretty()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>pretty</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=o>**</span><span class=n>displayParameters</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Displays the material that corresponds to a node in a graphical way. The internal structure of the nodes that are involved is also revealed.</p> </details> <details class=info><summary>node</summary><p>a node of arbitrary type.</p> </details> <details class=info><summary>full</summary><p>True or False. Normally <code>pretty(n)</code> only displays a summary of <code>n</code> if <code>n</code> is big, i.e. it has a type bigger than the <em>condense type</em>. If you still want to see the whole big object, pass True: <code>pretty(n, full=True)</code>.</p> <details class=hint><summary>condense type</summary><p>Alternatively, you could have said <code>pretty(n, condenseType='xxx')</code> with <code>xxx</code> a big enough type, but this is a bit clumsy.</p> </details> </details> <details class=info><summary>extraFeatures, tupleFeatures</summary><p>These display parameters govern which extra features will be displayed in pretty displays. The union of what these parameters specify will be taken.</p> </details> </details> <details class=abstract><summary>A.prettyTuple()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>prettyTuple</span><span class=p>(</span><span class=nb>tuple</span><span class=p>,</span> <span class=n>seqNumber</span><span class=p>,</span> <span class=o>**</span><span class=n>displayParameters</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Displays the material that corresponds to a tuple of nodes in a graphical way, with customizable highlighting of nodes. The member nodes of the tuple will be collected into containers, which will be displayed with <code>pretty()</code>, and the nodes of the tuple will be highlighted in the containers.</p> </details> <details class=info><summary>tuple</summary><p><code>tuple</code> is an arbitrary tuple of nodes of arbitrary types.</p> </details> </details> <details class=abstract><summary>A.show()</summary><table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><code><span class=n>A</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>results</span><span class=p>,</span> <span class=o>**</span><span class=n>displayParameters</span><span class=p>)</span>
</code></pre></div> </td></tr></table> <details class=info open=open><summary>Description</summary><p>Displays an iterable of tuples of nodes. The elements of the list are displayed by <code>A.prettyTuple()</code>.</p> </details> <details class=info><summary>results</summary><p>an iterable of tuples of nodes. The results of a search qualify, but it works no matter which process has produced the tuples.</p> </details> <details class=hint><summary>condense, condenseType</summary><p>You can condense the list first to containers of <code>condenseType</code>, before displaying the list. Pass the display parameters <code>condense</code> and <code>condenseType</code> (documented above).</p> </details> </details> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../../Use/UseX/ title=Advanced class="md-flex md-footer-nav__link md-footer-nav__link--prev head-type" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> Advanced </span> </div> </a> <a href=../Fabric/ title=TF class="md-flex md-footer-nav__link md-footer-nav__link--next head-type" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> TF </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-disclaimer> The content of this site is produced under responsibility of project <b>annotation/text-fabric</b> and is subject to change. </div> <div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> customised by <a href=https://github.com/Dans-labs>Dans-labs</a> </div> </div> <div class=md-footer-dans> <div>DANS is an institute of KNAW and NWO</div> <div> <a href=https://dans.knaw.nl/en title="Data Archiving and Networked Services (DANS)"><img class=md-footer-dans__img src=../../assets/images/DANS.gif height=50></a> <a target=_blank href=https://www.knaw.nl/en><img src=../../assets/images/knaw.png height=50></a> <a target=_blank href=https://www.nwo.nl/en><img src=../../assets/images/nwo.png height=50></a> </div> <div><i>Driven by data</i></div> </div> <link rel=stylesheet href=../../assets/fonts/font-awesome.css> <style>.md-footer-social__desc{font-family:"Open Sans",sans-serif;-webkit-font-smoothing:auto}</style> <ul class=md-footer-social> <li class=md-footer-social__li> <a href=http://eepurl.com/dvnr8D class="md-footer-social__link fa fa-envelope-square"> <span class=md-footer-social__desc>Newsletter</span> </a> </li> <li class=md-footer-social__li> <a href=https://twitter.com/DANSKNAW class="md-footer-social__link fa fa-twitter-square"> <span class=md-footer-social__desc>Twitter</span> </a> </li> <li class=md-footer-social__li> <a href=https://www.youtube.com/user/DANSDataArchiving class="md-footer-social__link fa fa-youtube-square"> <span class=md-footer-social__desc>YouTube</span> </a> </li> <li class=md-footer-social__li> <a href=https://www.linkedin.com/company/dans class="md-footer-social__link fa fa-linkedin-square"> <span class=md-footer-social__desc>LinkedIn</span> </a> </li> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.43c0530e.js></script> <script>app.initialize({version:"1.1",url:{base:"../.."}})</script> </body> </html>