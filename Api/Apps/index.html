



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Text-Fabric is a Python3 package for Text plus Annotations. It provides a data model, a text file format, a binary format, an API, and apps for (ancient) text plus (linguistic) annotations.">
      
      
        <link rel="canonical" href="https://dans-labs.github.io/text-fabric/Api/Apps/">
      
      
        <meta name="author" content="Dirk Roorda">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/icon/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.6">
    
    
      
        <title>Apps - Text-Fabric</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#apps" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://dans-labs.github.io/text-fabric/" title="Text-Fabric" class="md-header-nav__button md-logo">
          
            <img src="../../images/tficon-small.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Text-Fabric
              </span>
              <span class="md-header-nav__topic">
                Apps
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/dans-labs/text-fabric/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://dans-labs.github.io/text-fabric/" title="Text-Fabric" class="md-nav__button md-logo">
      
        <img src="../../images/tficon-small.png" width="48" height="48">
      
    </a>
    Text-Fabric
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/dans-labs/text-fabric/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Use7/" title="v7-Guide" class="md-nav__link">
      v7-Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../News/" title="News" class="md-nav__link">
      News
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Install/" title="Install" class="md-nav__link">
      Install
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Use/" title="Use" class="md-nav__link">
      Use
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Add/" title="Add" class="md-nav__link">
      Add
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Corpora/" title="Corpora" class="md-nav__link">
      Corpora
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Faq/" title="Faq" class="md-nav__link">
      Faq
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/Overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/Tests/" title="Tests" class="md-nav__link">
      Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/Stats/" title="Stats (overall)" class="md-nav__link">
      Stats (overall)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsBase/" title="Stats (TF-base)" class="md-nav__link">
      Stats (TF-base)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsSearch/" title="Stats (TF-search)" class="md-nav__link">
      Stats (TF-search)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsApplib/" title="Stats (TF-app support)" class="md-nav__link">
      Stats (TF-app support)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsApps/" title="Stats (TF-apps)" class="md-nav__link">
      Stats (TF-apps)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsServer/" title="Stats (TF-server)" class="md-nav__link">
      Stats (TF-server)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsTest/" title="Stats (Tests)" class="md-nav__link">
      Stats (Tests)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Model
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Model
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Model/Data-Model/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Model/File-formats/" title="Format" class="md-nav__link">
      Format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Model/Optimizations/" title="Tweaks" class="md-nav__link">
      Tweaks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Model/Search/" title="Search" class="md-nav__link">
      Search
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Writing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Writing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Writing/Hebrew.html" title="Hebrew" class="md-nav__link">
      Hebrew
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Writing/Syriac.html" title="Syriac" class="md-nav__link">
      Syriac
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12" checked>
    
    <label class="md-nav__link" for="nav-12">
      Api
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Api
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../General/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Apps
      </label>
    
    <a href="./" title="Apps" class="md-nav__link md-nav__link--active">
      Apps
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#current-apps" title="Current apps" class="md-nav__link">
    Current apps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-structure-of-apps" title="The structure of apps" class="md-nav__link">
    The structure of apps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-generic-part-of-apps" title="The generic part of apps" class="md-nav__link">
    The generic part of apps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tf-data-getters" title="TF Data getters" class="md-nav__link">
    TF Data getters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tf-search-performers" title="TF search performers" class="md-nav__link">
    TF search performers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tabular-display" title="Tabular display" class="md-nav__link">
    Tabular display
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pretty-display" title="Pretty display" class="md-nav__link">
    Pretty display
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#html-and-markdown" title="HTML and Markdown" class="md-nav__link">
    HTML and Markdown
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants" title="Constants" class="md-nav__link">
    Constants
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Bhsa/" title="Hebrew Bible" class="md-nav__link">
      Hebrew Bible
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Peshitta/" title="Peshitta" class="md-nav__link">
      Peshitta
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Syrnt/" title="Syriac New Testament" class="md-nav__link">
      Syriac New Testament
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Uruk/" title="Cuneiform Tablets" class="md-nav__link">
      Cuneiform Tablets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Transcription/" title="Transcription" class="md-nav__link">
      Transcription
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Server/Kernel/" title="Kernel" class="md-nav__link">
      Kernel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Server/Web/" title="Web" class="md-nav__link">
      Web
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Server/Common/" title="Common" class="md-nav__link">
      Common
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Create
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Create
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Create/CreateTF/" title="Make TF" class="md-nav__link">
      Make TF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Create/ExampleText/" title="Example data" class="md-nav__link">
      Example data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#current-apps" title="Current apps" class="md-nav__link">
    Current apps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-structure-of-apps" title="The structure of apps" class="md-nav__link">
    The structure of apps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-generic-part-of-apps" title="The generic part of apps" class="md-nav__link">
    The generic part of apps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tf-data-getters" title="TF Data getters" class="md-nav__link">
    TF Data getters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tf-search-performers" title="TF search performers" class="md-nav__link">
    TF search performers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tabular-display" title="Tabular display" class="md-nav__link">
    Tabular display
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pretty-display" title="Pretty display" class="md-nav__link">
    Pretty display
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#html-and-markdown" title="HTML and Markdown" class="md-nav__link">
    HTML and Markdown
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants" title="Constants" class="md-nav__link">
    Constants
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/dans-labs/text-fabric/edit/master/docs/Api/Apps.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="apps">Apps<a class="headerlink" href="#apps" title="Permanent link">&para;</a></h1>
<details class="abstract"><summary>About</summary><p>Text-Fabric is a generic engine to process text and annotations.</p>
<p>When working with specific corpora, we want to have more power at our fingertips.</p>
<p>We need extra power on top of the TF engine.</p>
<p>The way we have chosen to do it is via <em>apps</em>.
An app is a bunch of extra functions that <em>know</em> the structure of a specific corpus.</p>
<p>In particular, an app knows how to produce plain representations
and pretty displays of nodes of each type in the corpus.</p>
</details>
<h2 id="current-apps">Current apps<a class="headerlink" href="#current-apps" title="Permanent link">&para;</a></h2>
<details class="abstract"><summary>Current apps</summary><p>At the moment we have these apps</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../Bhsa/">bhsa</a></td>
<td>Biblia Hebraica Stuttgartensia (Amstelodamensis)</td>
</tr>
<tr>
<td><a href="../Uruk/">uruk</a></td>
<td>Proto-cuneiform Uruk Corpus</td>
</tr>
<tr>
<td><a href="../Peshitta/">peshitta</a></td>
<td>Syriac Old Testament</td>
</tr>
<tr>
<td><a href="../Syrnt/">syrnt</a></td>
<td>Syriac New Testament</td>
</tr>
</tbody>
</table>
</details>
<h2 id="the-structure-of-apps">The structure of apps<a class="headerlink" href="#the-structure-of-apps" title="Permanent link">&para;</a></h2>
<details class="abstract"><summary>App components</summary><p>The apps themselves are modules inside 
<a href="https://github.com/Dans-labs/text-fabric/tree/master/tf/apps">tf.apps</a></p>
<p>For each <em>app</em>, you find there a subfolder <em>app</em> with:</p>
<details class="abstract"><summary>static</summary><p>A folder with fonts and logos, used by the text-fabric browser.</p>
</details>
<details class="abstract"><summary>config.py</summary><p>Settings to set up a browsing experience and to feed the specific API for this app.</p>
<details class="abstract"><summary>web browsing settings</summary><p>The TF kernel, webserver and browser need settings:</p>
<table>
<thead>
<tr>
<th>setting</th>
<th>example</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>protocol</td>
<td><code>http://</code></td>
<td>protocol of local website</td>
</tr>
<tr>
<td>host</td>
<td><code>localhost</code></td>
<td>server address of local website</td>
</tr>
<tr>
<td>webport</td>
<td><code>8001</code></td>
<td>port for the local website</td>
</tr>
<tr>
<td>port</td>
<td><code>18981</code></td>
<td>port through wich the TF kernel and the webserver communicate</td>
</tr>
</tbody>
</table>
</details>
<details class="abstract"><summary>data settings</summary><p>The TF kernel needs context information:</p>
<table>
<thead>
<tr>
<th>setting</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>localDir</td>
<td>directory name</td>
<td>temporary directory for writing and reading</td>
</tr>
<tr>
<td>options</td>
<td>tuple</td>
<td>names of extra options for seaerching and displaying query results</td>
</tr>
<tr>
<td>PROVENANCE</td>
<td>dict</td>
<td>corpus specific provenance metadata: name and DOI</td>
</tr>
</tbody>
</table>
</details>
</details>
<details class="abstract"><summary>app.py</summary><p>The functionality specific to the corpus in question, organized as an extended
TF api. In the code you see this stored in variables with name <code>app</code>.</p>
<p>In order to be an app that TF can use, <code>app</code> should provide the following attributes:</p>
<table>
<thead>
<tr>
<th>attribute</th>
<th>kind</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>api</td>
<td>object</td>
<td>the generic TF api obtained by loading the features: <code>`api = TF.load(...)</code></td>
</tr>
<tr>
<td>asApp</td>
<td>boolean</td>
<td><code>True</code> if working for the web-interface, <code>False</code> otherwise</td>
</tr>
<tr>
<td>classNames</td>
<td>dict</td>
<td>mapping from node types to CSS class names to be used in plain and pretty displays of nodes of that type</td>
</tr>
<tr>
<td>condenseType</td>
<td>string</td>
<td>the default node type to which results will be condensed, e.g. <code>verse</code>, <code>tablet</code></td>
</tr>
<tr>
<td>dataLink</td>
<td>html link</td>
<td>points to the repository where the TF data of the corpus is stored</td>
</tr>
<tr>
<td>exampleSection</td>
<td>text</td>
<td>a concrete section indicator that points to an object of the <code>condenseType</code> (e.g. <code>Genesis 1:1</code>, <code>P005381</code>)</td>
</tr>
<tr>
<td>featureLink</td>
<td>html link</td>
<td>points to the documentation of the TF features of the corpus</td>
</tr>
<tr>
<td>loadCSS</td>
<td>method</td>
<td>deliver CSS styling to notebook or web interface (depending on <code>asApp</code>)</td>
</tr>
<tr>
<td>nodeFromDefaultSection</td>
<td>method</td>
<td>given a section string pointing to an object of <code>condenseType</code>, return the corresponding node (or an error message)</td>
</tr>
<tr>
<td>noneValues</td>
<td>set</td>
<td>feature values that are deemed uninteresting; features with those values will be suppressed in pretty displays</td>
</tr>
<tr>
<td>plain</td>
<td>method</td>
<td>given a node, produce a plain representation of the corresponding object: not the full structure, but something that identifies it</td>
</tr>
<tr>
<td>pretty</td>
<td>method</td>
<td>given a node, produce a pretty display of the corresponding object: the full structure</td>
</tr>
<tr>
<td>prettyFeaturesLoaded</td>
<td>set</td>
<td>initial set of features that should be loaded for pretty displays</td>
</tr>
<tr>
<td>tfsLink</td>
<td>html link</td>
<td>points to the documentation of the TF search engine</td>
</tr>
<tr>
<td>tutLink</td>
<td>html link</td>
<td>points to the tutorial for TF search</td>
</tr>
<tr>
<td>webLink</td>
<td>method</td>
<td>given a node, produces a link to an online description of the corresponding object (to <a href="https://shebanq.ancient-data.org">shebanq</a> or <a href="https://cdli.ucla.edu">cdli</a></td>
</tr>
<tr>
<td>sectionLink</td>
<td>method</td>
<td>given a section node, produces a link that copies the section to the section pad (only in the TF browser)</td>
</tr>
</tbody>
</table>
<details class="note"><summary>asApp</summary><p>The <code>app</code> contains several display functions. By default
they suppose that there is a Jupyter notebook context in which
results can be rendered with <code>IPython.display</code> methods.
But if we operate in the context of a web-interface, we need to generate
straight HTML. We flag the web-interface case as <code>asApp == True</code>.</p>
</details>
<details class="note"><summary>pretty</summary><p>Not all of the <code>pretty</code> method needs to be defined by the app.
In fact, the function itself is defined generically in
<a href="https://github.com/Dans-labs/text-fabric/blob/master/tf/apphelpers.py">apphelpers</a>.
But it calls the method <code>_pretty</code>, which must be defined in the app.
In turn, parth of <code>_pretty</code> is taking care of by the
generic <code>prettyPre</code> in <em>apphelpers.py</em>.
What remains in <code>_pretty</code> is the pure, app-dependent
code for displaying nodes.</p>
</details>
</details>
</details>
<h2 id="the-generic-part-of-apps">The generic part of apps<a class="headerlink" href="#the-generic-part-of-apps" title="Permanent link">&para;</a></h2>
<details class="abstract"><summary>App helpers</summary><p>Apps turn out to have several things in common that we want to deal with generically.
These functions are collected in the
<a href="https://github.com/Dans-labs/text-fabric/blob/master/tf/apphelpers.py">apphelpers</a>
module of TF.</p>
</details>
<details class="abstract"><summary>Generic/specific</summary><p>Sometimes there is an intricate mix of functionality that is shared by all apps and that
is specific to some app.
Here is our logistics of functionality.</p>
<p>There are a number of methods that are offered as a generic function and
just added as a method to the <em>app</em>, e.g. <code>pretty()</code>
For example, apps are setup to import <code>pretty</code> first:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">tf.apphelpers</span> <span class="kn">import</span> <span class="n">pretty</span>
</pre></div>
</td></tr></table>

<p>and in the app's setup function this happens:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">pretty</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">MethodType</span><span class="p">(</span><span class="n">pretty</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>which adds the function <code>pretty</code> as an instance method to the app.</p>
<p>So although we define <code>pretty(app, ...)</code> as a generic function,
through its argument <code>app</code> we can call app specific functionality.</p>
<p>We follow this pattern for quite a bit of functions.
They all have <code>app</code> as first argument.</p>
</details>
<details class="abstract"><summary>Two contexts</summary><p>Most functions with the <code>app</code> argument are meant to perform their duty in two contexts:</p>
<ul>
<li>when called in a Jupyter notebook they deliver output meant for a notebook output cell,
  using methods provided by the <code>ipython</code> package.</li>
<li>when called by the web app they deliver output meant for the TF browser website,
  generating raw HTML.</li>
</ul>
<p>The <code>app</code> is the rich app specific API, and when we construct this API, we pass the information
whether it is constructed for the purposes of the Jupyter notebook, or for the purposes of the web app.</p>
<p>We pass this information by setting the attribute <code>asApp</code> on the <code>app</code>. 
If it is set, we use the <code>app</code> in the web app context.</p>
<p>Most of the code in such functions is independent of <code>asApp</code>.
The main difference is how to output the result: by a call to an IPython display method, or by
returning raw HTML.</p>
</details>
<h2 id="tf-data-getters">TF Data getters<a class="headerlink" href="#tf-data-getters" title="Permanent link">&para;</a></h2>
<details class="abstract"><summary>Auto loading of TF data</summary><p>The specific apps have functions to load and download data from github.
They check first whether there is local data in a github repository,
and if not, they check a local text-fabric-data directory,
and if not, they download data from a know online GitHub repo into the local
text-fabric-data directory.</p>
<p>The data functions provided take parameters with these meanings:</p>
<details class="note"><summary>dataUrl</summary><p>The complete url from which to download data.</p>
</details>
<details class="note"><summary>ghBase</summary><p>The location of the local github directory, usually <code>~/github</code>.
This directory is expected to be subdivided by org and then by repo, just as the online
GitHub.</p>
</details>
<details class="note"><summary>dataRel</summary><p>The relative path within the local github/text-fabric-data directory to the directory
that holds versions of TF data.</p>
</details>
<details class="note"><summary>version</summary><p>The version of the TF data of interest.</p>
</details>
</details>
<details class="abstract"><summary>hasData(dataRel, ghBase, version)</summary><p>Checks whether there is TF data in standard locations.
Returns the full path of the local github directory if the data is found in the expected place below it.
Returns the full path of the local text-fabric-data directory if the data is found in the expected place below it.
Returns <code>False</code> if there no offline copy of the data has been found in these locations.</p>
</details>
<details class="abstract"><summary>getData(dataUrl, dataRel, ghBase, version)</summary><p>Checks whether there is TF data in standard locations.
If not, downloads data from <code>dataUrl</code> and places it in <code>~/text-fabric-data/dataRel/version</code></p>
</details>
<details class="abstract"><summary>getDataCustom(dataUrl, dest)</summary><p>Retrieves a zip file from <code>dataUrl</code>, and unpacks it at directory <code>dest</code> locally.</p>
</details>
<h2 id="tf-search-performers">TF search performers<a class="headerlink" href="#tf-search-performers" title="Permanent link">&para;</a></h2>
<details class="abstract"><summary>search(app, query, silent=False, sets=None, shallow=False)</summary><p>This is a thin wrapper around the generic search interface of TF:
<a href="../General/#searching">S.search</a></p>
<p>The extra thing it does it collecting the results.
<code>S.search()</code> may yield a generator, and this <code>search()</code> makes sure to iterate
over that generator, collect the results, and return them as a sorted list.</p>
<details class="note"><summary>Context Jupyter</summary><p>The intended context of this function is: an ordinary Python program (including
the Jupyter notebook).
Web apps can better use <code>runSearch</code> below.</p>
</details>
</details>
<details class="abstract"><summary>runSearch(api, query, cache)</summary><p>A wrapper around the generic search interface of TF.
Before running the TF search, the <em>query</em> will be looked up in the <em>cache</em>.
If present, its cached results/error messages will be returned.
If not, the query will be run, results/error messages collected, put in the <em>cache</em>, and returned.</p>
<details class="note"><summary>Context web app</summary><p>The intended context of this function is: web app.</p>
</details>
</details>
<details class="abstract"><summary>runSearchCondensed(api, query, cache, condenseType)</summary><p>When query results need to be condensed into a container, this function takes care of that.
It first tries the <em>cache</em> for condensed query results.
If that fails,
it collects the bare query results from the cache or by running the query.
Then it condenses the results, puts them in the <em>cache</em>, and returns them.</p>
<details class="note"><summary>Context web app</summary><p>The intended context of this function is: web app.</p>
</details>
</details>
<h2 id="tabular-display">Tabular display<a class="headerlink" href="#tabular-display" title="Permanent link">&para;</a></h2>
<details class="abstract"><summary>table(app, tuples, ...)</summary><p>Takes a list of <em>tuples</em> and
composes it into a Markdown table.</p>
<details class="note"><summary>Context Jupyter</summary><p>The intended context of this function is:
the Jupyter notebook.</p>
</details>
</details>
<details class="abstract"><summary>compose(app, tuples, start. position, opened, ...)</summary><p>Takes a list of <em>tuples</em> and
composes it into an HTML table.
Some of the rows will be expandable, namely the rows specified by <code>opened</code>,
for which extra data has been fetched.</p>
<details class="note"><summary>Context web app</summary><p>The intended context of this function is: web app.</p>
</details>
</details>
<details class="abstract"><summary>plainTuple(app, tuple)</summary><p>Displays a <em>tuple</em> of nodes as a table row:</p>
<ul>
<li>a markdown row in the context Jupyter;</li>
<li>an HTML row in the context web app.</li>
</ul>
</details>
<h2 id="pretty-display">Pretty display<a class="headerlink" href="#pretty-display" title="Permanent link">&para;</a></h2>
<details class="abstract"><summary>What is pretty?</summary><p>Nodes are just numbers, but they stand for all the information that the corpus
has about a certain item.
<code>pretty(node)</code> makes a lot of that information visible in an app dependent way.</p>
<p>For the Bhsa it means showing nested and intruding sentences, clauses and phrases.</p>
<p>For the Uruk tablets it means showing alternating vertical and horizontal
subdivisions of faces into columns, lines and cases.</p>
<p>For the Peshitta it currently means showing the words of verses in unicode and ETCBC/WIT
transcription.</p>
<p>For the SyrNT it currently means showing the words of verses in unicode and SEDRA
transcription.</p>
<p>When you show a pretty representation of a node,
usually pretty representations of "contained" nodes will also be drawn.</p>
<p>You can selectively highlight those nodes with custom colors.</p>
<p>When pretty-displaying a tuple of nodes, container nodes that contain those nodes
will be looked up and displayed, and the actual tuple nodes will be highlighted.</p>
<p>You can customize the highlight colors by selecting colors on the basis of the
postions of nodes in their tuples, or you can explicitly pass a micro-managed
colormap of nodes to colors.</p>
<p>In pretty displays you can opt for showing/hiding the node numbers,
for suppressing certain standard features, and there are app dependent options.</p>
<p>In the case of Uruk tablets, you can opt to show the lineart of signs and quads,
and to show the line numbers of the source transcriptions.</p>
</details>
<details class="abstract"><summary>show(app, tuples, ...)</summary><p>Takes a list of <em>tuples</em> and
composes it into a sequence of pretty displays per tuple.</p>
<details class="note"><summary>Context Jupyter</summary><p>The intended context of this function is:
the Jupyter notebook.</p>
</details>
</details>
<details class="abstract"><summary>prettyTuple(app, tuple)</summary><p>Displays a <em>tuple</em> of nodes as an expanded display, both</p>
<ul>
<li>in the context Jupyter and</li>
<li>in the context web app.</li>
</ul>
</details>
<details class="abstract"><summary>pretty(extrApi, node, ...)</summary><p>Displays a single <em>node</em> as an expanded display, both</p>
<ul>
<li>in the context Jupyter and</li>
<li>in the context web app.</li>
</ul>
</details>
<details class="abstract"><summary>prettyPre(app, node, ...)</summary><p>Helper for <code>pretty</code>.
Pretty display is pretty complicated.
There are large portions of functionality that are generic,
and large portions that are app specific.</p>
<p>This function computes a lot of generic things, based on which
a pretty display can be constructed.</p>
</details>
<details class="abstract"><summary>prettySetup(app, features=None, noneValues=None)</summary><p>Pretty displays show a chosen set of standard features for nodes.
By means of the parameter <code>suppress</code> you can leave out certain features.
But what if you want to add features to the display?</p>
<p>That is what <code>prettySetup()</code> does.
It adds a list of <em>features</em> to the display, provided they are loadable.
If they are not yet loaded, they will be loaded.</p>
<p>Features with values that represent no information, will be suppressed.
But you can customise what counts as no information, by passing a set
of such values as <code>noneValues</code>. </p>
</details>
<h2 id="html-and-markdown">HTML and Markdown<a class="headerlink" href="#html-and-markdown" title="Permanent link">&para;</a></h2>
<details class="abstract"><summary>getBoundary(api, node)</summary><p>Utility function to ask from the TF API the first slot and the last slot contained in a node.</p>
</details>
<details class="abstract"><summary>getFeatures(app, node, ...)</summary><p>Helper for <code>pretty()</code>: wrap the requested features and their values for <em>node</em> in HTML for pretty display.</p>
</details>
<details class="abstract"><summary>getContext(api, nodes)</summary><p>Get the features and values for a set of <em>nodes</em>. 
All loaded features will be retrieved.</p>
</details>
<details class="abstract"><summary>header(app)</summary><p>Get the app-specific links to data and documentation and wrap it into HTML for display in the TF browser.</p>
</details>
<details class="abstract"><summary>outLink(text, href, title=None, ...)</summary><p>Produce a formatted HTML link.</p>
</details>
<details class="abstract"><summary>htmlEsc(val)</summary><p>Produce a representation of <em>val</em> that is safe for usage in a HTML context.</p>
</details>
<details class="abstract"><summary>mdEsc(val)</summary><p>Produce a representation of <em>val</em> that is safe for usage in a Markdown context.</p>
</details>
<details class="abstract"><summary>dm(markdown)</summary><p>Display a <em>markdown</em> string in a Jupyter notebook.</p>
</details>
<h2 id="constants">Constants<a class="headerlink" href="#constants" title="Permanent link">&para;</a></h2>
<details class="abstract"><summary>Fixed values</summary><p>The following values are used by other parts of the program:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>RESULT</code></td>
<td>the label of a query result: <code>result</code></td>
</tr>
<tr>
<td><code>GH_BASE</code></td>
<td>the location of the local github directory</td>
</tr>
<tr>
<td><code>URL_GH</code></td>
<td>the url to the GitHub site</td>
</tr>
<tr>
<td><code>URL_NB</code></td>
<td>the url to the NBViewer site</td>
</tr>
</tbody>
</table>
</details>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../General/" title="General" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                General
              </span>
            </div>
          </a>
        
        
          <a href="../Bhsa/" title="Hebrew Bible" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Hebrew Bible
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.5e60981f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>