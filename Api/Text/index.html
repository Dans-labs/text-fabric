



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Text-Fabric is a Python3 package for Text plus Annotations. It provides a data model, a text file format, a binary format, an API, and apps for (ancient) text plus (linguistic) annotations.">
      
      
        <link rel="canonical" href="https://dans-labs.github.io/text-fabric/Api/Text/">
      
      
        <meta name="author" content="Dirk Roorda">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/icon/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.6">
    
    
      
        <title>T - Text - Text-Fabric</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#text" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://dans-labs.github.io/text-fabric/" title="Text-Fabric" class="md-header-nav__button md-logo">
          
            <img src="../../images/tficon-small.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Text-Fabric
              </span>
              <span class="md-header-nav__topic">
                T - Text
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/dans-labs/text-fabric/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://dans-labs.github.io/text-fabric/" title="Text-Fabric" class="md-nav__button md-logo">
      
        <img src="../../images/tficon-small.png" width="48" height="48">
      
    </a>
    Text-Fabric
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/dans-labs/text-fabric/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/Install/" title="Install" class="md-nav__link">
      Install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/Corpora/" title="Corpora" class="md-nav__link">
      Corpora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/Faq/" title="Faq" class="md-nav__link">
      Faq
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/News/" title="News" class="md-nav__link">
      News
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/Older/" title="Older" class="md-nav__link">
      Older
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Apps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Apps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Apps/Bhsa/" title="Hebrew Bible" class="md-nav__link">
      Hebrew Bible
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Apps/Peshitta/" title="Peshitta" class="md-nav__link">
      Peshitta
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Apps/Syrnt/" title="Syriac New Testament" class="md-nav__link">
      Syriac New Testament
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Apps/Uruk/" title="Cuneiform Tablets" class="md-nav__link">
      Cuneiform Tablets
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Use
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Use
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Use/Use/" title="Use" class="md-nav__link">
      Use
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Use/Browser/" title="Browser" class="md-nav__link">
      Browser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Use/Search/" title="Search" class="md-nav__link">
      Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Use/Use7/" title="v7-Guide" class="md-nav__link">
      v7-Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Api
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Api
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../App/" title="Apps" class="md-nav__link">
      Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Data/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3" checked>
    
    <label class="md-nav__link" for="nav-5-3">
      Core
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Fabric/" title="TF" class="md-nav__link">
      TF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Features/" title="F - Features" class="md-nav__link">
      F - Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Nodes/" title="N - Nodes" class="md-nav__link">
      N - Nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Locality/" title="L - Locality" class="md-nav__link">
      L - Locality
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        T - Text
      </label>
    
    <a href="./" title="T - Text" class="md-nav__link md-nav__link--active">
      T - Text
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sections" title="Sections" class="md-nav__link">
    Sections
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#book-names-and-languages" title="Book names and languages" class="md-nav__link">
    Book names and languages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-representation" title="Text representation" class="md-nav__link">
    Text representation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Search/" title="S - Search" class="md-nav__link">
      S - Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Computed/" title="C - Computed" class="md-nav__link">
      C - Computed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Misc/" title="Miscellaneous" class="md-nav__link">
      Miscellaneous
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Convert/" title="Convert (MQL)" class="md-nav__link">
      Convert (MQL)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Lib/" title="Lib" class="md-nav__link">
      Lib
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Helpers/" title="Helpers" class="md-nav__link">
      Helpers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Writing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Writing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Writing/Hebrew.html" title="Hebrew" class="md-nav__link">
      Hebrew
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Writing/Syriac.html" title="Syriac" class="md-nav__link">
      Syriac
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Writing/Transcription/" title="Transcription" class="md-nav__link">
      Transcription
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Model
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Model
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Model/Data-Model/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Model/File-formats/" title="Format" class="md-nav__link">
      Format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Model/Optimizations/" title="Tweaks" class="md-nav__link">
      Tweaks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Model/Search/" title="Search" class="md-nav__link">
      Search
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Create
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Create
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Create/CreateTF/" title="Make TF" class="md-nav__link">
      Make TF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Create/ExampleText/" title="Example data" class="md-nav__link">
      Example data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Server/Kernel/" title="Kernel" class="md-nav__link">
      Kernel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Server/Web/" title="Web" class="md-nav__link">
      Web
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Server/Common/" title="Common" class="md-nav__link">
      Common
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/Overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/Tests/" title="Tests" class="md-nav__link">
      Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/Stats/" title="Stats (overall)" class="md-nav__link">
      Stats (overall)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsToplevel/" title="Stats (TF-toplevel)" class="md-nav__link">
      Stats (TF-toplevel)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsCore/" title="Stats (TF-core)" class="md-nav__link">
      Stats (TF-core)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsSearch/" title="Stats (TF-search)" class="md-nav__link">
      Stats (TF-search)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsConvert/" title="Stats (TF-convert)" class="md-nav__link">
      Stats (TF-convert)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsWriting/" title="Stats (TF-writing)" class="md-nav__link">
      Stats (TF-writing)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsServer/" title="Stats (TF-server)" class="md-nav__link">
      Stats (TF-server)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsApplib/" title="Stats (TF-app support)" class="md-nav__link">
      Stats (TF-app support)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsApps/" title="Stats (TF-apps)" class="md-nav__link">
      Stats (TF-apps)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Code/StatsTest/" title="Stats (Tests)" class="md-nav__link">
      Stats (Tests)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Implementation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Implementation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Implementation/Apps/" title="Apps" class="md-nav__link">
      Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Implementation/Setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Implementation/Data/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Implementation/Display/" title="Display" class="md-nav__link">
      Display
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Implementation/Highlight/" title="Highlight" class="md-nav__link">
      Highlight
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Implementation/Links/" title="Links" class="md-nav__link">
      Links
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Implementation/Search/" title="Search" class="md-nav__link">
      Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Implementation/Tables/" title="Tables" class="md-nav__link">
      Tables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Implementation/Helpers/" title="Helpers" class="md-nav__link">
      Helpers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sections" title="Sections" class="md-nav__link">
    Sections
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#book-names-and-languages" title="Book names and languages" class="md-nav__link">
    Book names and languages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-representation" title="Text representation" class="md-nav__link">
    Text representation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/dans-labs/text-fabric/edit/master/docs/Api/Text.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="text">Text<a class="headerlink" href="#text" title="Permanent link">&para;</a></h1>
<details class="info"><summary>Overview</summary><p>Here are the functions that enable you to get the actual text in the dataset.
There are several things to accomplish here, such as</p>
<ul>
<li>getting text given book, chapter, and verse;</li>
<li>given a node, produce the book, chapter and verse indicators in which the node
    is contained;</li>
<li>handle multilingual book names;</li>
<li>switch between various text representations.</li>
</ul>
<p>The details of the Text API are dependent on the <em>warp</em> feature <code>otext</code>, which
is a config feature.</p>
</details>
<details class="info" open="open"><summary>T</summary><p>The Text API is exposed as <code>T</code> or <code>Text</code>.</p>
</details>
<h2 id="sections">Sections<a class="headerlink" href="#sections" title="Permanent link">&para;</a></h2>
<details class="explanation"><summary>Section levels</summary><p>In <code>otext</code> the main section levels (usually <code>book</code>, <code>chapter</code>, <code>verse</code>) can be
defined. It loads the features it needs (so you do not have to specify those
features, unless you want to use them via <code>F</code>). And finally, it makes some
functions available by which you can make handy use of that information.</p>
<details class="note"><summary>Section levels are generic</summary><p>In this documentation, we call the main section level <code>book</code>, the second level
<code>chapter</code>, and the third level <code>verse</code>. Text-Fabric, however, is completely
agnostic about how these levels are called. It is prepared to distinguish three
section levels, but how they are called, must be configured in the dataset. The
task of the <code>otext</code> feature is to declare which node type and feature correspond
with which section level. Text-Fabric assumes that the first section level may
have multilingual headings, but that section levels two and three have single
language headings (numbers of some kind).</p>
</details>
<details class="note"><summary>String versus number</summary><p>Chapter and verse numbers will be considered to be strings or
integers, depending on whether your dataset has declared the corresponding
feature <em>valueType</em> as <code>str</code> or as <code>int</code>.</p>
<p>Conceivably, other works might have chapter and verse numbers
like <code>XIV</code>, '3A', '4.5', and in those cases these numbers are obviously not
<code>int</code>s.</p>
</details>
<details class="note"><summary>otext is optional</summary><p>If <code>otext</code> is missing, the Text API will not be build. If it exists, but
does not specify sections, that part of the Text API will not be built. Likewise
for text representations.</p>
</details>
<details class="caution"><summary>levels of node types</summary><p>Usually, Text-Fabric computes the hierarchy of node types correctly, in the
sense that node types that act as containers have a lower level than node types
that act as containees. So books have the lowest level, words the highest. See
<a href="#levels">levels</a>. However, if this level assignment turns out to be wrong for
your dataset, you can configure the right order in the <em>otext</em> feature, by means
of a key <code>levels</code> with value a comma separated list of levels. Example:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>@levels=tablet,face,column,line,case,cluster,quad,comment,sign
</pre></div>
</td></tr></table>

</details>
</details>
<details class="abstract"><summary>T.sectionTuple()</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">T</span><span class="o">.</span><span class="n">sectionTuple</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">lastSlot</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">fillup</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<details class="info" open="open"><summary>Description</summary><p>Returns a tuple of nodes that correspond to the sections of level 0, 1 and 2
(e.g. book, chapter, verse).
that include a node. More precisely, we retrieve the sections that contain a
reference node, which is either the first slot or the last slot of the node
in question.</p>
</details>
<details class="info"><summary>node</summary><p>The node whose containing section we want to get.</p>
</details>
<details class="info"><summary>lastSlot</summary><p>Whether the reference node will be the last slot contained by the <code>node</code> argument
or the first node.</p>
</details>
<details class="info"><summary>fillup</summary><p>If <code>False</code>, and node is a level 0 section node, a 1-element tuple of this
node is returned. And if node is a level 1 section node, a 2-element tuple is returned:
the enclosing level 0 section node and node itself.</p>
<p>If <code>True</code>, always a complete 3-tuple of a level 0, 1, and 2 section node is returned.</p>
</details>
</details>
<details class="abstract"><summary>T.sectionFromNode()</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">T</span><span class="o">.</span><span class="n">sectionFromNode</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">lastSlot</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">fillup</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<details class="info" open="open"><summary>Description</summary><p>Returns the book/chapter/verse indications that correspond to the reference
node, which is the first or last slot belonging <code>node</code>, dependent on <code>lastSlot</code>.
The result is a tuple, consisting of the book name (in language <code>lang</code>), the
chapter number, and the verse number. But see the <code>fillup</code> parameter.</p>
</details>
<details class="info"><summary>node</summary><p>The node from which we obtain a section specification.</p>
</details>
<details class="info"><summary>lastSlot</summary><p>Whether the reference node will be the last slot contained by the <code>node</code> argument
or the first node.</p>
</details>
<details class="info"><summary>lang</summary><p>The language to be used for the section parts, as far as they are language dependent.</p>
</details>
<details class="info"><summary>fillup</summary><p>Same as for <code>sectionTuple()</code></p>
</details>
<details class="note"><summary>crossing verse boundaries</summary><p>Sometimes a sentence or clause in a verse continue into the next verse.
In those cases, this function will return a different results for
<code>lastSlot=False</code> and <code>lastSlot=True</code>.</p>
</details>
<details class="caution"><summary>nodes outside sections</summary><p>Nodes that lie outside any book, chapter, verse will get a <code>None</code> in the
corresponding members of the returned tuple.</p>
</details>
</details>
<details class="abstract"><summary>T.nodeFromSection()</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">T</span><span class="o">.</span><span class="n">nodeFromSection</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<details class="info" open="open"><summary>Description</summary><p>Given a <code>section</code> tuple, return the node of it.</p>
</details>
<details class="info"><summary>section</summary><p><code>section</code> consists of a book name (in language <code>lang</code>),
and a chapter number and a verse
number (both as strings or number depending on the value type of the
corresponding feature). The verse number may be left out, the result is then a
chapter node. Both verse and chapter numbers may be left out, the result is then
a book node. If all three are present, de result is a verse node.</p>
</details>
<details class="info"><summary>lang</summary><p>The language assumed for the section parts, as far as they are language dependent.</p>
</details>
</details>
<h2 id="book-names-and-languages">Book names and languages<a class="headerlink" href="#book-names-and-languages" title="Permanent link">&para;</a></h2>
<details class="explanation"><summary>Book names and nodes</summary><p>The names of the books may be available in multiple languages. The book names
are stored in node features with names of the form <code>book@</code><em>la</em>, where <em>la</em> is
the <a href="https://en.wikipedia.org/wiki/ISO_639">ISO 639</a> two-letter code for that
language. Text-Fabric will always load these features.</p>
</details>
<details class="abstract"><summary>T.languages</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">T</span><span class="o">.</span><span class="n">languages</span>
</pre></div>
</td></tr></table>

<details class="info" open="open"><summary>Description</summary><p>A dictionary of the languages that are available for book names.</p>
</details>
</details>
<details class="abstract"><summary>T.bookName()</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">T</span><span class="o">.</span><span class="n">bookName</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<details class="info" open="open"><summary>Description</summary><p>gives the name of the book in which a node occurs.</p>
</details>
<details class="info"><summary>node</summary><p>The node in question.</p>
</details>
<details class="info"><summary>lang</summary><p>The <code>lang</code> parameter is a two letter language code. The default is <code>en</code>
(English).</p>
<p>If there is no feature data for the language chosen, the value of the ordinary
<code>book</code> feature of the dataset will be returned.</p>
</details>
<details class="note"><summary>Works for all nodes</summary><p><code>n</code> may or may not be a book node. If not, <code>bookName()</code> retrieves the
embedding book node first.</p>
</details>
</details>
<details class="abstract"><summary>T.bookNode()</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">T</span><span class="o">.</span><span class="n">bookNode</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<details class="info" open="open"><summary>Description</summary><p>gives the node of the book identified by its name</p>
</details>
<details class="info"><summary>name</summary><p>The name of the book.</p>
</details>
<details class="info"><summary>lang</summary><p>The language in which the book name is supplied by the <code>name</code> parameter.</p>
<p>If <code>lang</code> can not be found, the value of the ordinary <code>book</code> feature of the
dataset will be used.</p>
<p>If <code>name</code> cannot be found in the specified language, <code>None</code> will be returned.</p>
</details>
<details class="caution"><summary>Function name follows configured section level</summary><p>If your dataset has configured section level one under an other name,
say <code>tablet</code>, then these two methods follow that name. Instead of <code>T.bookName()</code>
and <code>T.bookNode()</code> we have then <code>T.tabletName()</code> and <code>T.tabletNode()</code>.</p>
</details>
</details>
<h2 id="text-representation">Text representation<a class="headerlink" href="#text-representation" title="Permanent link">&para;</a></h2>
<details class="explanation"><summary>Text formats</summary><p>Text can be represented in multiple ways. We provide a number of formats with
structured names.</p>
<p>A format name is a string of keywords separated by <code>-</code>:</p>
<p><em>what</em><code>-</code><em>how</em><code>-</code><em>fullness</em><code>-</code><em>modifier</em></p>
<p>For Hebrew any combination of the follwoing could be useful formats:</p>
<table>
<thead>
<tr>
<th>keyword</th>
<th>value</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>what</em></td>
<td><code>text</code></td>
<td>words as they belong to the text</td>
</tr>
<tr>
<td><em>what</em></td>
<td><code>lex</code></td>
<td>lexemes of the words</td>
</tr>
<tr>
<td><em>how</em></td>
<td><code>orig</code></td>
<td>in the original script (Hebrew, Greek, Syriac) (all Unicode)</td>
</tr>
<tr>
<td><em>how</em></td>
<td><code>trans</code></td>
<td>in (latin) transliteration</td>
</tr>
<tr>
<td><em>how</em></td>
<td><code>phono</code></td>
<td>in phonetic/phonological transcription</td>
</tr>
<tr>
<td><em>fullness</em></td>
<td><code>full</code></td>
<td>complete with accents and all diacritical marks</td>
</tr>
<tr>
<td><em>fullness</em></td>
<td><code>plain</code></td>
<td>with accents and diacritical marks stripped, in Hebrew only the consonants are left</td>
</tr>
<tr>
<td><em>modifier</em></td>
<td><code>ketiv</code></td>
<td>(Hebrew): where there is ketiv/qere, follow ketiv instead of qere (default);</td>
</tr>
</tbody>
</table>
<p>The default format is <code>text-orig-full</code>, we assume that every TF dataset defines
this format.</p>
<p>TF datasets may also define formats of the form <em>nodetype</em><code>-default</code> where <em>nodetype</em> is a valid type
of node in the dataset. These formats have a special meaning for Text-Fabric.</p>
<p>Remember that the formats are defined in the <code>otext</code> warp config feature of your
set, not by Text-Fabric.</p>
<details class="note"><summary>Freedom of names for formats</summary><p>There is complete freedom of choosing names for text formats.
They do not have to complied with the above-mentioned scheme.</p>
</details>
</details>
<details class="abstract"><summary>T.formats</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">T</span><span class="o">.</span><span class="n">formats</span>
</pre></div>
</td></tr></table>

<details class="info" open="open"><summary>Description</summary><p>Show the text representation formats that have been defined in your dataset.</p>
</details>
</details>
<details class="abstract"><summary>T.text()</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">T</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">T</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">descend</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<details class="info" open="open"><summary>Description</summary><p>Gives the text that corresponds to a bunch of nodes.</p>
</details>
<details class="info"><summary>nodes</summary><p><code>nodes</code> can be an arbitrary iterable of nodes.
No attempt will be made to sort the nodes.
If you need order, it is
better to order the nodes before you feed them to <code>T.text()</code>.</p>
</details>
<details class="info"><summary>fmt</summary><p>The format of text-representation is given with <code>fmt</code>, with default <code>text-orig-full</code>.
If the <code>fmt</code>
cannot be found, the default is taken.</p>
<p>The default is <code>text-orig-full</code> if the first argument is an iterable of <code>nodes</code>.</p>
<p>The default is <em>nodetype</em><code>-default</code> if the first argument is a single <code>node</code> with type <em>nodetype</em>.</p>
<p>If the default format is not defined in the
<code>otext</code> feature of the dataset,
what will happen is dependent on the first argument, <code>nodes</code> or <code>node</code>.</p>
<p>If the argument is an iterable of <code>nodes</code>, for each node its node type and node number
will be output, connected with a <code>_</code> .</p>
<p>If the argument is a single <code>node</code>, Text-Fabric will look up de slot nodes contained in it
(by means of <code>L.d(node, otype=slotType)</code> and format them with <code>text-orig-full</code>.</p>
<p>If the format <strong>is</strong> defined, and the first argument is a single <code>node</code>, 
Text-Fabric will apply that format to the node itself, not to the slots contained in that node.</p>
<p>But you can override that by means of <code>descend=True</code>. In that case, regardless of the format,
the <code>node</code> will be replaced by the slot nodes contained in it, before applying the format.</p>
<details class="hint"><summary>The default is sensible</summary><p>Consider the simplest call to this function: <code>T.text(node)</code>.
This will apply the default format to <code>node</code>. If <code>node</code> is non-slot, then in most cases
the default format will be applied to the slots contained in <code>node</code>.</p>
<p>But for special node types, where the best representation is not obtained by descending down
to the contained slot nodes, the dataset may define special default types that use other
features to furnish a decent representation.</p>
<details class="example"><summary>BHSA</summary><p>In the BHSA case this happens for the type of lexemes: <code>lex</code>. Lexemes contain their occurrences
as slots, but the representation of a lexeme is not the string of its occurrences, but
resides in a feature such as <code>voc_lex_utf8</code> (vocalized lexeme in Unicode).</p>
<p>The BHSA dataset defines the format <code>lex-default={voc_lex_utf8}</code> and this is the only thing
needed to regulate the representation of a lexeme.</p>
<p>Hence, <code>T.text(lx)</code> results in the vocalized lexeme representation of <code>lx</code>.</p>
<p>But if you really want to print out all occurrences of lexeme <code>lx</code>, you can say
<code>T.text(lx, descend=True)</code>.</p>
<p>Beware of this, however:</p>
<p><code>T.text(phr)</code> prints the full text of <code>phr</code> if <code>phr</code> is a phrase node.</p>
<p><code>T.text(phr, fmt='text-orig-full')</code> prints the empty string. Why?</p>
<p><code>T.text(phr, fmt='text-orig-full', descend=True)</code> prints the full text of the phrase.</p>
<p>In the first case there is no <code>fmt</code> argument, so the default is taken,
which would be <code>phrase-default</code>. But this format does not exists, so Text-Fabric
descends to the words of the phrase and applies <code>text-orig-full</code> to them.</p>
<p>In the second case, there is a <code>fmt</code> argument, so Text-Fabric applies that 
to the <code>node</code>. But <code>text-orig-full</code> uses features that have values on words,
not on phrases.</p>
<p>The third case is what you probably wanted, and this is what you need if you 
want to print the phrase in non-default formats:</p>
<p><code>T.text(phr, fmt='text-phono-full', descend=True)</code></p>
</details>
</details>
<details class="caution"><summary>No error messages</summary><p>This function does not give error messages, because that could easily overwhelm
the output stream, especially in a notebook.</p>
</details>
</details>
<details class="note"><summary>Non slot nodes allowed</summary><p>In most cases, the nodes fed to <code>T.text()</code> are slots, and the formats are
templates that use features that are defined for slots.</p>
<p>But nothing prevents you to define a format for non-slot nodes, and use features
defined for a non-slot node type.</p>
<p>If, for example, your slot type is <em>glyph</em>, and you want a format that renders
lexemes, which are not defined for glyphs but for words, you can just define a
format in terms of word features.</p>
<p>It is your responsibility to take care to use the formats for node types for
which they make sense.</p>
</details>
<details class="caution"><summary>Escape whitespace in formats</summary><p>When defining formats in <code>otext.tf</code>, if you need a newline or tab in the format,
specify it as <code>\n</code> and <code>\t</code>.</p>
</details>
</details>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Locality/" title="L - Locality" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                L - Locality
              </span>
            </div>
          </a>
        
        
          <a href="../Search/" title="S - Search" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                S - Search
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.5e60981f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>