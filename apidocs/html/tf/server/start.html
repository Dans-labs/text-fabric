<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.5" />
<title>tf.server.start API documentation</title>
<meta name="description" content="" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>tf.server.start</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import sys
import os
from platform import system

import psutil
import webbrowser
from time import sleep
from subprocess import PIPE, Popen

from ..core.helpers import console
from ..parameters import NAME, VERSION, PROTOCOL, HOST

from .command import (
    argKill,
    argShow,
    argNoweb,
    argApp,
    getPort,
    repSlug,
)
from .kernel import TF_DONE, TF_ERROR

HELP = &#34;&#34;&#34;
USAGE

text-fabric --help
text-fabric --version
text-fabric -k [app]
text-fabric -p [app]

text-fabric ./path/to/app --locations=locations-string [--modules=modules-string] args
text-fabric app[:specifier] args

where all args are optional and args have one of these forms:

  -noweb
  --checkout=specifier
  --mod=modules
  --set=file
  --modules=modules-string
  --locations=locations-string

EFFECT

If an app is given and the -k and -p flags are not passed,
a TF kernel for that app is started.
When the TF kernel is ready, a web server is started
serving a website that exposes the data through
a query interface.

The default browser will be opened, except when -noweb is passed.

Instead of a standard app that is available on https://github.com/annotation
you can also specify an app you have locally, or no app at all.


&#34;&#34; (empty string): no app
path-to-directory: the directory in which your app resides. This argument
must have a / inside (e.g. ./myapp).
The directory may contain zero or more of these app.py, config.yaml, static/display.css
If they are found, they will be used.

If no app is specified, TF features will be loaded according to the
--locations and --modules args.

For standard apps, the following holds:

:specifier (after the app)
--checkout=specifier

The TF app itself can be downloaded on the fly from GitHub.
The main data can be downloaded on the fly from GitHub.
The specifier indicates a point in the history from where the app should be retrieved.
  :specifier is used for the TF app code.
  --checkout=specifier is used for the main data.

Specifiers may be:
  local                 - get the data from your local text-fabric-data directory
  clone                 - get the data from your local github clone
  latest                - get the latest release
  hot                   - get the latest commit
  tag (e.g. v1.3)       - get specific release
  hash (e.g. 78a03b...) - get specific commit

No specifier or the empty string means: latest release if there is one, else latest commit.

--mod=modules

Optionally, you can pass a comma-separated list of modules.
Modules are extra sets of features on top op the chosen data source.
You specify a module by giving the github repository where it is created,
in the form

  {org}/{repo}/{path}
  {org}/{repo}/{path}:specifier

where
  {org} is the github organization,
  {repo} the name of the repository in that organization
  {path} the path to the data within that repo.
  {specifier} points to a release or commit in the history

It is assumed that the data is stored in directories under {path},
where the directories are named as the versions that exists in the main data source.

--set=file

Optionally, you can pass a file name with the definition of custom sets in it.
This must be a dictionary were the keys are names of sets, and the values
are node sets.
This dictionary will be passed to the TF kernel, which will use it when it runs
queries.

DATA LOADING

Text-Fabric looks for data in ~/text-fabric-data.
If data is not found there, it first downloads the relevant data from
github.

MISCELLANEOUS

-noweb Do not start the default browser


CLEAN UP

If you press Ctrl-C the web server is stopped, and after that the TF kernel
as well.
Normally, you do not have to do any clean up.
But if the termination is done in an irregular way, you may end up with
stray processes.

-p  Show mode. If a data source is given, the TF kernel and web server for that
    data source are shown.
    Without a data source, all local webinterface related processes are shown.
-k  Kill mode. If a data source is given, the TF kernel and web server for that
    data source are killed.
    Without a data source, all local webinterface related processes are killed.
&#34;&#34;&#34;

FLAGS = set(
    &#34;&#34;&#34;
    -noweb
&#34;&#34;&#34;.strip().split()
)

BANNER = f&#34;This is {NAME} {VERSION}&#34;


def filterProcess(proc):
    procName = proc.info[&#34;name&#34;]
    commandName = &#34;&#34; if procName is None else procName.lower()

    kind = None
    slug = None

    trigger = &#34;python&#34;
    if commandName.endswith(trigger) or commandName.endswith(f&#34;{trigger}.exe&#34;):
        parts = [p for p in proc.cmdline() if p not in FLAGS]
        if parts:
            parts = parts[1:]
        if parts and parts[0] == &#34;-m&#34;:
            parts = parts[1:]
        (call, *args) = parts
        trigger = &#34;text-fabric&#34;
        if call.endswith(trigger) or call.endswith(f&#34;{trigger}.exe&#34;):
            if all(arg not in {&#34;-k&#34;, &#34;-p&#34;} for arg in args):
                return False
            slug = argApp(args)
            ports = ()
            kind = &#34;tf&#34;
        else:
            if call == &#34;tf.server.kernel&#34;:
                kind = &#34;kernel&#34;
            elif call == &#34;tf.server.web&#34;:
                kind = &#34;web&#34;
            elif call.endswith(&#34;web.py&#34;):
                kind = &#34;web&#34;
            else:
                return False
            (slug, *ports) = args

        if kind == &#34;tf&#34;:
            if any(arg in {&#34;-k&#34;, &#34;-p&#34;} for arg in args):
                return False
        else:
            return (kind, slug, *ports)
    return False


def indexProcesses():
    tfProcesses = {}
    for proc in psutil.process_iter(attrs=[&#34;pid&#34;, &#34;name&#34;]):
        test = filterProcess(proc)
        if test:
            (kind, pSlug, *ports) = test
            tfProcesses.setdefault(pSlug, {}).setdefault(kind, []).append(
                (proc.info[&#34;pid&#34;], *ports)
            )
    return tfProcesses


def showProcesses(tfProcesses, slug, term=False, kill=False):
    item = (&#34;killed&#34; if kill else &#34;terminated&#34;) if term else &#34;&#34;
    if item:
        item = f&#34;: {item}&#34;
    myself = os.getpid()
    for (pSlug, kinds) in tfProcesses.items():
        if slug is None or (slug == pSlug):
            checkKinds = (&#34;kernel&#34;, &#34;web&#34;, &#34;tf&#34;)
            rSlug = repSlug(pSlug)
            for kind in checkKinds:
                pidPorts = kinds.get(kind, [])
                for pidPort in pidPorts:
                    pid = pidPort[0]
                    if pid == myself:
                        continue
                    try:
                        proc = psutil.Process(pid=pid)
                        if term:
                            if kill:
                                proc.kill()
                            else:
                                proc.terminate()
                        console(f&#34;{kind} {rSlug}{item}&#34;)
                    except psutil.NoSuchProcess:
                        if term:
                            console(
                                f&#34;{kind} {rSlug}: already {item}&#34;, error=True,
                            )


def connectPort(tfProcesses, kind, pos, slug):
    pInfo = tfProcesses.get(slug, {}).get(kind, None)
    return pInfo[0][pos] if pInfo else None


def main(cargs=sys.argv):
    console(BANNER)
    if len(cargs) &gt;= 2 and any(
        arg in {&#34;--help&#34;, &#34;-help&#34;, &#34;-h&#34;, &#34;?&#34;, &#34;-?&#34;} for arg in cargs[1:]
    ):
        console(HELP)
        return
    if len(cargs) &gt;= 2 and any(
        arg in {&#34;--version&#34;, &#34;-version&#34;, &#34;-v&#34;} for arg in cargs[1:]
    ):
        return

    isWin = system().lower().startswith(&#34;win&#34;)

    kill = argKill(cargs)
    show = argShow(cargs)

    (appName, slug) = argApp(cargs)

    if appName is None and not kill and not show:
        return

    noweb = argNoweb(cargs)

    tfProcesses = indexProcesses()

    if kill or show:
        if appName is False:
            return
        showProcesses(tfProcesses, None if appName is None else slug, term=kill)
        return

    stopped = False
    console(slug)
    portKernel = connectPort(tfProcesses, &#34;kernel&#34;, 1, slug)

    processKernel = None
    processWeb = None

    if not portKernel:
        portKernel = getPort()
        pythonExe = &#34;python&#34; if isWin else &#34;python3&#34;

        processKernel = Popen(
            [pythonExe, &#34;-m&#34;, &#34;tf.server.kernel&#34;, slug, str(portKernel)],
            stdout=PIPE,
            bufsize=1,
            encoding=&#34;utf-8&#34;,
        )
        console(f&#34;Loading data for {appName}. Please wait ...&#34;)
        for line in processKernel.stdout:
            sys.stdout.write(line)
            if line.rstrip() == TF_ERROR:
                return
            if line.rstrip() == TF_DONE:
                break
        sleep(1)
        stopped = processKernel.poll()

    if not stopped:
        portWeb = connectPort(tfProcesses, &#34;web&#34;, 2, slug)
        if not portWeb:
            portWeb = getPort(portBase=portKernel + 1)
            processWeb = Popen(
                [
                    pythonExe,
                    &#34;-m&#34;,
                    f&#34;tf.server.web&#34;,
                    slug,
                    str(portKernel),
                    str(portWeb),
                ],
                bufsize=0,
                encoding=&#34;utf8&#34;,
            )

    if not noweb:
        sleep(2)
        stopped = (not portWeb or (processWeb and processWeb.poll())) or (
            not portKernel or (processKernel and processKernel.poll())
        )
        if not stopped:
            console(f&#34;Opening {appName} in browser&#34;)
            webbrowser.open(
                f&#34;{PROTOCOL}{HOST}:{portWeb}&#34;, new=2, autoraise=True,
            )

    stopped = (not portWeb or (processWeb and processWeb.poll())) or (
        not portKernel or (processKernel and processKernel.poll())
    )
    if not stopped:
        try:
            console(&#34;Press &lt;Ctrl+C&gt; to stop the TF browser&#34;)
            if processKernel:
                for line in processKernel.stdout:
                    sys.stdout.write(line)
        except KeyboardInterrupt:
            console(&#34;&#34;)
            if processWeb:
                processWeb.terminate()
                console(&#34;TF web server has stopped&#34;)
            if processKernel:
                processKernel.terminate()
                console(&#34;TF kernel has stopped&#34;)


if __name__ == &#34;__main__&#34;:
    main()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="tf.server.start.connectPort"><code class="name flex">
<span>def <span class="ident">connectPort</span></span>(<span>tfProcesses, kind, pos, slug)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def connectPort(tfProcesses, kind, pos, slug):
    pInfo = tfProcesses.get(slug, {}).get(kind, None)
    return pInfo[0][pos] if pInfo else None</code></pre>
</details>
</dd>
<dt id="tf.server.start.filterProcess"><code class="name flex">
<span>def <span class="ident">filterProcess</span></span>(<span>proc)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def filterProcess(proc):
    procName = proc.info[&#34;name&#34;]
    commandName = &#34;&#34; if procName is None else procName.lower()

    kind = None
    slug = None

    trigger = &#34;python&#34;
    if commandName.endswith(trigger) or commandName.endswith(f&#34;{trigger}.exe&#34;):
        parts = [p for p in proc.cmdline() if p not in FLAGS]
        if parts:
            parts = parts[1:]
        if parts and parts[0] == &#34;-m&#34;:
            parts = parts[1:]
        (call, *args) = parts
        trigger = &#34;text-fabric&#34;
        if call.endswith(trigger) or call.endswith(f&#34;{trigger}.exe&#34;):
            if all(arg not in {&#34;-k&#34;, &#34;-p&#34;} for arg in args):
                return False
            slug = argApp(args)
            ports = ()
            kind = &#34;tf&#34;
        else:
            if call == &#34;tf.server.kernel&#34;:
                kind = &#34;kernel&#34;
            elif call == &#34;tf.server.web&#34;:
                kind = &#34;web&#34;
            elif call.endswith(&#34;web.py&#34;):
                kind = &#34;web&#34;
            else:
                return False
            (slug, *ports) = args

        if kind == &#34;tf&#34;:
            if any(arg in {&#34;-k&#34;, &#34;-p&#34;} for arg in args):
                return False
        else:
            return (kind, slug, *ports)
    return False</code></pre>
</details>
</dd>
<dt id="tf.server.start.indexProcesses"><code class="name flex">
<span>def <span class="ident">indexProcesses</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def indexProcesses():
    tfProcesses = {}
    for proc in psutil.process_iter(attrs=[&#34;pid&#34;, &#34;name&#34;]):
        test = filterProcess(proc)
        if test:
            (kind, pSlug, *ports) = test
            tfProcesses.setdefault(pSlug, {}).setdefault(kind, []).append(
                (proc.info[&#34;pid&#34;], *ports)
            )
    return tfProcesses</code></pre>
</details>
</dd>
<dt id="tf.server.start.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>cargs=['/Library/Frameworks/Python.framework/Versions/3.7/bin/pdoc3', '--force', '--html', '--output-dir', 'docs/apidocs/html', 'tf'])</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main(cargs=sys.argv):
    console(BANNER)
    if len(cargs) &gt;= 2 and any(
        arg in {&#34;--help&#34;, &#34;-help&#34;, &#34;-h&#34;, &#34;?&#34;, &#34;-?&#34;} for arg in cargs[1:]
    ):
        console(HELP)
        return
    if len(cargs) &gt;= 2 and any(
        arg in {&#34;--version&#34;, &#34;-version&#34;, &#34;-v&#34;} for arg in cargs[1:]
    ):
        return

    isWin = system().lower().startswith(&#34;win&#34;)

    kill = argKill(cargs)
    show = argShow(cargs)

    (appName, slug) = argApp(cargs)

    if appName is None and not kill and not show:
        return

    noweb = argNoweb(cargs)

    tfProcesses = indexProcesses()

    if kill or show:
        if appName is False:
            return
        showProcesses(tfProcesses, None if appName is None else slug, term=kill)
        return

    stopped = False
    console(slug)
    portKernel = connectPort(tfProcesses, &#34;kernel&#34;, 1, slug)

    processKernel = None
    processWeb = None

    if not portKernel:
        portKernel = getPort()
        pythonExe = &#34;python&#34; if isWin else &#34;python3&#34;

        processKernel = Popen(
            [pythonExe, &#34;-m&#34;, &#34;tf.server.kernel&#34;, slug, str(portKernel)],
            stdout=PIPE,
            bufsize=1,
            encoding=&#34;utf-8&#34;,
        )
        console(f&#34;Loading data for {appName}. Please wait ...&#34;)
        for line in processKernel.stdout:
            sys.stdout.write(line)
            if line.rstrip() == TF_ERROR:
                return
            if line.rstrip() == TF_DONE:
                break
        sleep(1)
        stopped = processKernel.poll()

    if not stopped:
        portWeb = connectPort(tfProcesses, &#34;web&#34;, 2, slug)
        if not portWeb:
            portWeb = getPort(portBase=portKernel + 1)
            processWeb = Popen(
                [
                    pythonExe,
                    &#34;-m&#34;,
                    f&#34;tf.server.web&#34;,
                    slug,
                    str(portKernel),
                    str(portWeb),
                ],
                bufsize=0,
                encoding=&#34;utf8&#34;,
            )

    if not noweb:
        sleep(2)
        stopped = (not portWeb or (processWeb and processWeb.poll())) or (
            not portKernel or (processKernel and processKernel.poll())
        )
        if not stopped:
            console(f&#34;Opening {appName} in browser&#34;)
            webbrowser.open(
                f&#34;{PROTOCOL}{HOST}:{portWeb}&#34;, new=2, autoraise=True,
            )

    stopped = (not portWeb or (processWeb and processWeb.poll())) or (
        not portKernel or (processKernel and processKernel.poll())
    )
    if not stopped:
        try:
            console(&#34;Press &lt;Ctrl+C&gt; to stop the TF browser&#34;)
            if processKernel:
                for line in processKernel.stdout:
                    sys.stdout.write(line)
        except KeyboardInterrupt:
            console(&#34;&#34;)
            if processWeb:
                processWeb.terminate()
                console(&#34;TF web server has stopped&#34;)
            if processKernel:
                processKernel.terminate()
                console(&#34;TF kernel has stopped&#34;)</code></pre>
</details>
</dd>
<dt id="tf.server.start.showProcesses"><code class="name flex">
<span>def <span class="ident">showProcesses</span></span>(<span>tfProcesses, slug, term=False, kill=False)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def showProcesses(tfProcesses, slug, term=False, kill=False):
    item = (&#34;killed&#34; if kill else &#34;terminated&#34;) if term else &#34;&#34;
    if item:
        item = f&#34;: {item}&#34;
    myself = os.getpid()
    for (pSlug, kinds) in tfProcesses.items():
        if slug is None or (slug == pSlug):
            checkKinds = (&#34;kernel&#34;, &#34;web&#34;, &#34;tf&#34;)
            rSlug = repSlug(pSlug)
            for kind in checkKinds:
                pidPorts = kinds.get(kind, [])
                for pidPort in pidPorts:
                    pid = pidPort[0]
                    if pid == myself:
                        continue
                    try:
                        proc = psutil.Process(pid=pid)
                        if term:
                            if kill:
                                proc.kill()
                            else:
                                proc.terminate()
                        console(f&#34;{kind} {rSlug}{item}&#34;)
                    except psutil.NoSuchProcess:
                        if term:
                            console(
                                f&#34;{kind} {rSlug}: already {item}&#34;, error=True,
                            )</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="tf.server" href="index.html">tf.server</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="tf.server.start.connectPort" href="#tf.server.start.connectPort">connectPort</a></code></li>
<li><code><a title="tf.server.start.filterProcess" href="#tf.server.start.filterProcess">filterProcess</a></code></li>
<li><code><a title="tf.server.start.indexProcesses" href="#tf.server.start.indexProcesses">indexProcesses</a></code></li>
<li><code><a title="tf.server.start.main" href="#tf.server.start.main">main</a></code></li>
<li><code><a title="tf.server.start.showProcesses" href="#tf.server.start.showProcesses">showProcesses</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.5</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>